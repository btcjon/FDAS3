[{
  "markdown": "_Note: this is a technical documentation website. Commercial landing page is located here [https://metaapi.cloud](https://metaapi.cloud/)_\n\n_Note to reader: We aimed to create a powerful yet simple API. If you'll find a missing feature you need, please drop us a message via online chat._\n\n[MetaApi](https://metaapi.cloud/) is a powerful, fast, cost-efficient, easy to use and standards-driven cloud forex trading API for MetaTrader 4 and MetaTrader 5 platform designed for traders, investors and forex application developers to boost forex application development process. MetaApi can be used with any broker and does not require you to be a brokerage.\n\nWe created a PaaS application which makes it easy for our users to deploy the API. In order to launch the API for MetaTrader you'll need to add your MetaTrader account to our app. Your API server will be provisioned in automatic manner in a cloud. MetaApi provides a comprehensive set of tools via standard-based REST and Websocket APIs for interacting with the MetaTrader platform in order to create variety of classic trading applications using virtually any programming language. Primary anticipated use cases of MetaApi are creating automated trading strategies, monitoring your trading and using MetaTrader as a market data server to backtest your strategies.\n\n## Pricing[#](#pricing \"Permanent link\")\n\nMetaApi is a paid service. A free tier is available for testing and personal use.\n\nThe [MetaApi pricing](https://metaapi.cloud/#pricing) was developed with the intent to make your charges less or equal to what you would have to pay for hosting your own infrastructure. This is possible because over time we managed to heavily optimize our MetaTrader infrastructure. And with MetaApi you can save significantly on application development and maintenance costs and time thanks to high-quality API, open-source SDKs and convenience of a cloud service.\n\n## Official SDKs[#](#official-sdks \"Permanent link\")\n\nOfficial SDKs are listed on [https://metaapi.cloud/sdks](https://metaapi.cloud/sdks) page. SDK simplifies application implementation by hiding some low level details of REST and websocket API. Please note that we do not cover SDKs docs in this document. Please check readme files of corresponding packages for SDK docs.\n\n## Working code examples[#](#working-code-examples \"Permanent link\")\n\nPlease check [this short video](https://youtu.be/dDOUWBjdfA4) to see how you can download samples via our web application.\n\nWorking code examples are also available on GitHub.\n\n*   node.js: [https://github.com/metaapi/metaapi-javascript-sdk/tree/master/examples](https://github.com/metaapi/metaapi-javascript-sdk/tree/master/examples)\n*   Python: [https://github.com/metaapi/metaapi-python-sdk/tree/master/examples](https://github.com/metaapi/metaapi-python-sdk/tree/master/examples)\n*   Java: [https://github.com/metaapi/metaapi-java-sdk/tree/master/examples](https://github.com/metaapi/metaapi-java-sdk/tree/master/examples)\n\n## Features[#](#features \"Permanent link\")\n\nFeatures supported:\n\n*   same identical API for both MT4 and MT5 platforms\n*   read terminal state, such as account information, positions and open orders\n*   read trading history (deals and history orders)\n*   execute trades\n*   stream real-time quotes, candles, ticks and order book\n*   read historical market data\n\nThe features described above are available for use using the RESTful API or socket.io WebSocket server ([socket.io](https://socket.io/)). We choose socket.io protocol for our Websocket server because socket.io clients are available on most popular programming languages.\n\nAlthough you can trade via REST API, the primary intended use of REST API is creating trade monitoring applications. For automatic trading we recommend using Websocket server since it provides lower latencies and real time synchronization with terminal state.\n\n## Documentation structure[#](#documentation-structure \"Permanent link\")\n\n*   the `REST API` section describes how to interact with the terminal using the RESTful API\n*   the `Websocket API (socket.io)` section describes how to interact with the terminal using Websocket API\n*   the `Models` section describes the response schemas that the application uses to communicate with the client\n\nAt this point we have good coverage of MetaTrader features except retrieving historical market data.\n\n## Feature limitations depending on offering type[#](#feature-limitations-depending-on-offering-type \"Permanent link\")\n\n*   quote streaming in G1 is limited to one tick per 2.5 seconds\n*   real-time streaming of candles, ticks and access to market depth data is currently available on G1 and MT4 G2 only\n*   brokers with more than 5000 symbols defined are currently supported on G1 infrastructure only\n*   historical market data is available for G1 and MT4 G2 only\n\nTake a look at our website for the full list of APIs and features supported [https://metaapi.cloud/#features](https://metaapi.cloud/#features)\n\nSome of the APIs you might decide to use together with MetaStats API are:\n\n1.  CopyFactory copy trading API [https://metaapi.cloud/docs/copyfactory/](https://metaapi.cloud/docs/copyfactory/)\n2.  MetaTrader account management API [https://metaapi.cloud/docs/provisioning/](https://metaapi.cloud/docs/provisioning/)\n3.  MetaStats forex trading metrics API [https://metaapi.cloud/docs/metastats/](https://metaapi.cloud/docs/metastats/)\n4.  MetaApi MT Manager API [https://metaapi.cloud/docs/manager/](https://metaapi.cloud/docs/manager/)\n5.  MetaApi risk management API [https://metaapi.cloud/docs/risk-management/](https://metaapi.cloud/docs/risk-management/)"
},
{
  "markdown": "## Tracking trades[#](#tracking-trades \"Permanent link\")\n\nMetaApi implements a mechanism which can be used to bind metatrader objects to the identifiers of the objects used in your application. In order to use this feature your application should supply `clientId` value in trade and then all related metatrader objects returned by MetaApi will contain this value in the `clientId` field.\n\nMetaApi stores this information in order comment, thus the total length of order `comment` and `clientId` is restricted to 26 alphanumeric characters.\n\n`clientId` must follow `${strategyId}_${positionId}_${orderId}` format and allows you to bind MetaTrader objects to user application objects. Example of correct `clientId` value is `RF_EURUSD_GjCy5lk`. Due to limited length of the `clientId` fields we recommend using alphanumeric ids in your application so that available storage space is used efficiently.\n\nNote, that `${orderId}` part may be replaced by the MetaApi application with the MT order id for trades resulting from **take profit** or **stop loss** execution."
},
{
  "markdown": "## FAQ[#](#faq \"Permanent link\")\n\n## Is API implementation stable?[#](#is-api-implementation-stable \"Permanent link\")\n\nThe API is ready for production use at this point.\n\n## How can I be sure your service is reliable enough?[#](#how-can-i-be-sure-your-service-is-reliable-enough \"Permanent link\")\n\nWe implemented a comprehensive automated tests which we execute before each release. We use the service to execute our own trading account workloads.\n\n## I would like to use websocket API (real-time streaming API) from language different from python or javascript, is this possible?[#](#i-would-like-to-use-websocket-api-real-time-streaming-api-from-language-different-from-python-or-javascript-is-this-possible \"Permanent link\")\n\nStreaming API has evolved over time and currently the protocol is complex. We insist you to use an [SDK](https://metaapi.cloud/sdks) if you want to use the streaming API. In case you need to use the streaming API from a language different from javascript or python, the best strategy would be to convert the complete SDK from javascript to the language of your choice.\n\n## What is the maximum workload size supported by your service?[#](#what-is-the-maximum-workload-size-supported-by-your-service \"Permanent link\")\n\nThe service was tested integrationally with workloads of up to 50K MetaTrader accounts. This does not mean that 50K accounts is a limit. The theoretical limit based on load test results of individual service components is 1M accounts. It is theoretical because we just can not get as much hardware at this point to test this kind of workload integrationally. This said, it is necessary to run appropriate load tests before launching workloads bigger than 50K accounts.\n\n## What is your service uptime?[#](#what-is-your-service-uptime \"Permanent link\")\n\nWe are constantly working to improve our uptime. The average per-MT account uptime measured on production during trading session exceeds 99.5%.\n\nFor trading robots or other apps where uptime is critical we recommend launching your workloads on a high reliability infrastructure. Workloads launched in this mode were load-tested to have per-MT account average uptime of up to 99.96% depending on your broker.\n\n## What are the latencies introduced by your servers?[#](#what-are-the-latencies-introduced-by-your-servers \"Permanent link\")\n\nMedian trade execution latency introduced by our servers was measured to be 6ms. Median update streaming latency introduced by our server was measured to be less than 1ms.\n\nPing time from our servers located in new-york region to New York is less than 1ms, meaning that when you trade via MetaApi using a broker located in New York, then the network latency for trade execution will be less than 0.5ms.\n\nPlease note that network latency and latency introduced by our servers is added on top of regular broker latency, i.e. the latency which is introduced solely by your broker.\n\nIf you are trading correlated strategies on your accounts please consider using [resource slots](https://metaapi.cloud/docs/client/resourceSlots/) feature to reduce trade & signal latency.\n\n## Where the API servers are located?[#](#where-the-api-servers-are-located \"Permanent link\")\n\nOur API servers are located in data centers in several regions (geographical locations) across the globe. Please contact us ([support@metaapi.cloud](mailto:support@metaapi.cloud)) if your application runs in a different location and you need lower latency for your location.\n\nWe recommend you to deploy your app in the same location as your workloads for minimal network latency.\n\n## I would like to see working code samples, do you have some?[#](#i-would-like-to-see-working-code-samples-do-you-have-some \"Permanent link\")\n\nPlease check [this short video](https://youtu.be/dDOUWBjdfA4) to see how you can download samples via our web application.\n\nPlease check also our GitHub repos.\n\n*   node.js: [https://github.com/metaapi/metaapi-javascript-sdk/tree/master/examples](https://github.com/metaapi/metaapi-javascript-sdk/tree/master/examples)\n*   Python: [https://github.com/metaapi/metaapi-python-sdk/tree/master/examples](https://github.com/metaapi/metaapi-python-sdk/tree/master/examples)\n\nPlease note that these all are working code examples. We execute them before each release to make sure they still runs correctly after each update we make to our service.\n\nIf you have questions on how to use them, please check [Using code examples](https://metaapi.cloud/docs/client/usingCodeExamples/) document.\n\n## How to get an optimal latency for my app?[#](#how-to-get-an-optimal-latency-for-my-app \"Permanent link\")\n\nWe recommend you to deploy your app in the same location as your workloads for minimal network latency.\n\n## Will I be charged for an account I added to your app?[#](#will-i-be-charged-for-an-account-i-added-to-your-app \"Permanent link\")\n\nYou will be charged for it only if API server is running (i.e. in deployed state). You can stop the API server any time.\n\n## I would like to save on a cloud offering by launching an API server for a short time, then executing some actions, then stopping it again. Can I do so?[#](#i-would-like-to-save-on-a-cloud-offering-by-launching-an-api-server-for-a-short-time-then-executing-some-actions-then-stopping-it-again-can-i-do-so \"Permanent link\")\n\nYes. Please note that in current version you are billed for 6 hours each time you start your server.\n\n## I would like to get a trial, is this possible?[#](#i-would-like-to-get-a-trial-is-this-possible \"Permanent link\")\n\nMetaApi provides a free tier so that you can test our APIs. Workloads of up to two trading accounts are free for personal use.\n\n## I plan to run many accounts at once. Can I get a discount?[#](#i-plan-to-run-many-accounts-at-once-can-i-get-a-discount \"Permanent link\")\n\nWe designed our pricing so that you pay equal or less than amount you have to pay for executing your own infrastructure even in high volume usage scenario. Please check our [pricing](https://metaapi.cloud/#pricing).\n\n## Is the service safe to use?[#](#is-the-service-safe-to-use \"Permanent link\")\n\nSecurity of our service is mostly based on the fact that it is not possible to transfer funds from your trading account using trading terminal access, because access to deposits/withdrawals is split from trading access by your broker. Our app requires only trading terminal access to operate correctly. Feel free to do your own research on this subject if you want.\n\nWhen you add your trading account to our, you expose your trading password (so that our app can connect to your broker) and your API calls to our app.\n\nIn our company we employ standard industry security protocols. The application code is being reviewed by senior management before going into production. The cloud infrastructure runs on an isolated network and all ingoing and outgoing communication is encrypted and uses strong authentication. The number of people who have access to production infrastructure is limited to a single person who administers the infrastructure and resolve technical issues if they arise.\n\n## I want to try a service without risk of making real trades, can I do so?[#](#i-want-to-try-a-service-without-risk-of-making-real-trades-can-i-do-so \"Permanent link\")\n\nYou can add a demo account to our service.\n\nAlternatively you can specify investor password for read-only terminal access (trading features will not be available in this case).\n\n## I'm getting 404 NotFound or 401 UnauthorizedError error when I'm trying to access my account via API, what might be wrong?[#](#im-getting-404-notfound-or-401-unauthorizederror-error-when-im-trying-to-access-my-account-via-api-what-might-be-wrong \"Permanent link\")\n\nPlease make sure that the URL you use to access your account matches the region account is deployed at. You can find region-specific URL on [API access page](https://app.metaapi.cloud/token).\n\n## Other questions[#](#other-questions \"Permanent link\")\n\nAny question? Post it via online chat any time to get a response. We will be happy to answer."
},
{
  "markdown": "In case your position closes with a SL/TP in MT4 or MT5 or being partially closed in MT4, the MetaTrader will overwrite the original order/deal comment.\n\nMetaApi supports restoring the original comment in the situation described above. The restored comment will be placed in `originalComment` field of the object you are retrieving."
},
{
  "markdown": "## Using code examples[#](#using-code-examples \"Permanent link\")\n\n## Example code structure[#](#example-code-structure \"Permanent link\")\n\nThe working code examples are located in our github repositories:\n\n*   node.js version is available at [https://github.com/metaapi/metaapi-javascript-sdk/tree/master/examples](https://github.com/metaapi/metaapi-javascript-sdk/tree/master/examples)\n*   python version is available at [https://github.com/metaapi/metaapi-python-sdk/tree/master/examples](https://github.com/metaapi/metaapi-python-sdk/tree/master/examples)\n\nThe examples in all languages are structured in the same way.\n\n*   mt5 folder contains examples for MetaTrader 5 platform\n*   mt4 folder contains examples for MetaTrader 4 platform\n\nPlease note that the example code for MT4 and MT5 is nearly identical.\n\nInside above folders, there are metaApiRpcExample and metaApiSynchronizationExample. First demonstrates RPC API which is good for developing trade monitoring applications similar to myfxbook. Second example demonstrates API which is good for developing trade applications such as trade copiers or trading robots.\n\n## Configuring examples[#](#configuring-examples \"Permanent link\")\n\n1.  First you need to install packages. You can do so by issuing following commands:\n    \n    *   node.js: `npm i`\n    *   python: `pip install -r requirements.txt`\n2.  Next, you need to provide the MetaTrader file containing broker server address. Note, that steps 3-5 are required only for code examples demonstrating how to add MT accounts using custom provisioning profile. In most cases you do not need to use provisioning profile because MetaApi is able to detect broker settings automatically.\n    \n3.  (For code example using provisioning profile only) Follow a video recording below to capture the file.\n    \n    *   there is a [short video](https://youtu.be/XXEivPsUC9o) demonstrating how to capture the file for MetaTrader 5\n    *   there is a [short video](https://youtu.be/PRMpfKunlBw) demonstrating how to capture the file for MetaTrader 4\n4.  (For code example using provisioning profile only) Place the file you captured from your MetaTrader platform into the same folder example executable is located at. Rename it to servers.dat for MT5 or broker.srv for MT4.\n    \n5.  (For code example using provisioning profile only) Specify file location in example code. For node.js fill in the following lines of the code\n    \n    *   MetaTrader 5\n        \n        ```\n        let serverDatFile = process.env.PATH_TO_SERVERS_DAT || './servers.dat';\n        ```\n        \n    *   MetaTrader 4\n        \n        ```\n        let brokerSrvFile = process.env.PATH_TO_BROKER_SRV || './broker.srv';\n        ```\n        \n    \n    Code changes for Python are similar.\n    \n6.  Next, you need to supply data for your trading accounts. For node.js fill in the follwing lines of the code:\n    \n    ```\n    let login = process.env.LOGIN || '<put in your MT login here>';\n    let password = process.env.PASSWORD || '<put in your MT password here>';\n    let serverName = process.env.SERVER || '<put in your MT server name here>';\n    ```\n    \n    You have to replace the text inside quotes with your MT login, MT password and MT server name. Please note that you can use an investor password as well for read-only access.\n    \n    Changes you need to make for Python examples are similar.\n    \n7.  Finally, supply your MetaApi token. To do so first obtain your API token on [https://app.metaapi.cloud/token](https://app.metaapi.cloud/token) page. Then edit the following line in order to suppoly your API token to the example code:\n    \n    ```\n    let token = process.env.TOKEN || '<put in your token here>';\n    ```\n    \n    You have to replace the text inside quotes with an actual value of your API token.\n    \n    Changes you need to make for Python examples are similar.\n    \n\n## Launching the examples[#](#launching-the-examples \"Permanent link\")\n\nIn order to launch the examples, use the following commands:\n\n*   node.js: `node metaApiRpcExample` or `node metaApiSynchronizationExample`\n*   Python: `python metaApiRpcExample.py` or `python metaApiSynchronizationExample.py`\n\n## Resolving problems[#](#resolving-problems \"Permanent link\")\n\nIf you messed up with example code and want to restart we recommend you to go to [https://app.metaapi.cloud](https://app.metaapi.cloud/) and first delete your test API server and test provisioning profile. Then re-execute the steps above.\n\nIf you still have issues, feel free to contact support via online chat."
},
{
  "markdown": "## Rate limiting[#](#rate-limiting \"Permanent link\")\n\nOur application limits the number of requests you can make during certain period of time. The restrictions are different for different REST API paths or websocket/SDK RPC API methods. If the request limit is exceeded, then error [TooManyRequests (http status code - 429)](https://metaapi.cloud/docs/client/models/tooManyRequestsError/) will be returned. The error payload contains recommended time to repeat request at.\n\nMetaApi API has following types of limits defined:\n\n*   REST and RPC API rate limits\n*   real-time market data streaming rate limits\n*   real-time terminal state synchronization limits\n\n## REST and RPC API rate limiting[#](#rest-and-rpc-api-rate-limiting \"Permanent link\")\n\nREST and RPC API rate limiting use CPU credits system. There are several limits defined by the MetaApi app. According to each limit your app is granted with a number of credits per unit of time and you can consume the credits for making API calls.\n\nREST and RPC API rate limits include 3 kinds of limits:\n\n1.  Total number of CPU credits available per application\n2.  Number of CPU credits available to be spent on a single server\n3.  Number of CPU credits available to be spent on a single account\n\nHistorical market data API rate limits use the same system, however they are calculated independendtly of the rest of the API.\n\nIn addition to above, historical market data API limits number of concurrent requests per account.\n\nNote, that small-scale applications are likely to hit limit #1 above. Large scale applications, which have more than 120 accounts deployed (as per time of writing this document) are likely to hit limit #2 first.\n\n### What should I do if I hit a REST/RPC API rate limit?[#](#what-should-i-do-if-i-hit-a-restrpc-api-rate-limit \"Permanent link\")\n\nIf you hit a rate limit accidentally, just wait recommended time as per error payload and retry your request.\n\nIf you are consistently hitting rate limits this most likely means that you are not using our API efficiently. Consider switching from RPC-style API to real-time streaming API as it requires much less computational resources on server-side and thus scales much better. Feel free to contact our support to get some assistance on how to design more efficient application.\n\nYou can also contact support to request your rate limit quotas increase, however a justification might be required for rate limit quotas increase.\n\n### Total number of CPU credits available per application[#](#total-number-of-cpu-credits-available-per-application \"Permanent link\")\n\nBelow is a table of how many credits your entire application can spend for a period of time. Please note that you need to multiply these values by the number of accounts you have deployed to MetaApi to figure out your final quota.\n\n| Period | Credits available |\n| --- | --- |\n| 1 second | 1000 |\n| 1 minute | 6000 |\n| 1 hour | 18000 |\n| 6 hours | 43200 |\n\nExample: If you have 10 accounts deployed, then you end up with 10000 CPU credits quota per second because 1000 CPU credits per second is multiplied by the number of deployed accounts.\n\nError example:\n\n`{   \"id\": 1,   \"error\": \"TooManyRequestsError\",   \"message\": \"The getAccountInformation API allows 1000 cpu credits per 1s to avoid overloading our servers. Please wait some time and retry your request or contact support to extend your quota. For more information see https://metaapi.cloud/docs/client/rateLimiting/\",   \"metadata\": {     \"total\": 1000,     \"available\": 0,     \"needed\": 50,     \"resourceId\": 'user:userId',     \"multiplierId\": 'accountCount:userId',     \"exceededConfig\": 'perUser',     \"exceededPeriod\": '1s',     \"recommendedRetryTime\": \"2022-05-31T09:00:52.361Z\",     \"method\": \"getAccountInformation\"   } }`\n\n### Number of CPU credits available on a single server[#](#number-of-cpu-credits-available-on-a-single-server \"Permanent link\")\n\nIn order to avoid overloading a server, there is a separate limit each front-end server (there are 12 front-end servers at the time of writing this doc).\n\nIf you reached the credit limit on one server you can switch servers by selecting different value of `client-id` HTTP header.\n\nAllowed credits on one server per time period\n\n| Period | Credits available (shared server) |\n| --- | --- |\n| 1 second | 2000 |\n| 1 minute | 18000 |\n| 1 hour | 180000 |\n| 6 hours | 432000 |\n\nAn example of an error in the case of using all credits on one server\n\n`{   \"id\": 1,   \"error\": \"TooManyRequestsError\",   \"message\": \"The getAccountInformation API allows 2000 cpu credits per 1s to avoid overloading our servers. Please wait some time and retry your request or contact support to extend your quota. For more information see https://metaapi.cloud/docs/client/rateLimiting/\",   \"metadata\": {     \"total\": 2000,     \"available\": 0,     \"needed\": 50,     \"resourceId\": 'server:vGopD5NMrdcv',     \"exceededConfig\": 'perServer',     \"exceededPeriod\": '1s',     \"recommendedRetryTime\": \"2022-05-31T09:00:52.361Z\",     \"method\": \"getAccountInformation\"   } }`\n\n### Number of CPU credits available to be spent on a single account[#](#number-of-cpu-credits-available-to-be-spent-on-a-single-account \"Permanent link\")\n\nOverloading a single account can adversely affect quality of service provided to your application, thus there is a separate limit of how many CPU credits you can spend making requests to a single account.\n\nAvailable credits table for one account per time period\n\n| Period | Credits available |\n| --- | --- |\n| 10 seconds | 5000 |\n\nError example:\n\n`{   \"id\": 1,   \"error\": \"TooManyRequestsError\",   \"message\": \"The getAccountInformation API allows 2000 cpu credits per 1s to avoid overloading our servers. Please wait some time and retry your request or contact support to extend your quota. For more information see https://metaapi.cloud/docs/client/rateLimiting/\",   \"metadata\": {     \"total\": 5000,     \"available\": 0,     \"needed\": 100,     \"resourceId\": 'account:16d703b1-f529-42c2-b647-dc660a313458',     \"exceededConfig\": 'perAccount',     \"exceededPeriod\": '10s',     \"recommendedRetryTime\": \"2022-05-31T09:00:52.361Z\",     \"method\": \"getAccountInformation\"   } }`\n\n### Number of concurrent historical market data API requests per account[#](#number-of-concurrent-historical-market-data-api-requests-per-account \"Permanent link\")\n\nMetaApi allows 5 concurrent historica market data requests per account.\n\nError example:\n\n`{   \"id\": 1,   \"error\": \"TooManyRequestsError\",   \"message\": \"It seems like you attempted to run too many concurrent historical market data requests for this account. You can execute a maximum of 5 concurrent historical market data requests per account. For more information see https://metaapi.cloud/docs/client/rateLimiting/\",   \"metadata\": {     \"maxRequestsPerAccount\": 5,     \"concurrentRequestCount\": 6,     \"recommendedRetryTime\": \"2021-02-05T16:59:17.029Z\",     \"type\": \"LIMIT_CONCURRENT_MARKET_DATA_REQUESTS_PER_ACCOUNT\"   } }`\n\n### Cost of API calls in CPU credits[#](#cost-of-api-calls-in-cpu-credits \"Permanent link\")\n\nBelow is the table of the cost of each REST API request in credits.\n\n| Path | Credits |\n| --- | --- |\n| GET /users/current/accounts/:accountId/accountInformation | 50  |\n| GET /users/current/accounts/:accountId/positions | 50  |\n| GET /users/current/accounts/:accountId/positions/:positionId | 50  |\n| GET /users/current/accounts/:accountId/orders | 50  |\n| GET /users/current/accounts/:accountId/orders/:orderId | 50  |\n| GET /users/current/accounts/:accountId/history-orders/ticket/:ticket | 50  |\n| GET /users/current/accounts/:accountId/history-orders/position/:positionId | 50  |\n| GET /users/current/accounts/:accountId/history-orders/time/:startTime/:endTime | 75 + (number of history orders found) \\* 0.65 |\n| GET /users/current/accounts/:accountId/history-deals/ticket/:ticket | 50  |\n| GET /users/current/accounts/:accountId/history-deals/position/:positionId | 50  |\n| GET /users/current/accounts/:accountId/history-deals/time/:startTime/:endTime | 75 + (number of deals found) \\* 0.65 |\n| POST /users/current/accounts/:accountId/trade | 10  |\n| GET /users/current/accounts/:accountId/symbols/symbols | 500 |\n| GET /users/current/accounts/:accountId/symbols/:symbol/specification | 50  |\n| GET /users/current/accounts/:accountId/symbols/:symbol/current-price | 50  |\n| GET /users/current/accounts/:accountId/symbols/:symbol/current-candles/:timeframe | 50  |\n| GET /users/current/accounts/:accountId/symbols/:symbol/current-tick | 50  |\n| GET /users/current/accounts/:accountId/symbols/:symbol/current-book | 50 + (number of book records) \\* 0.1 |\n| POST /users/current/accounts/:accountId/symbols/:symbol/unsubscribe | 50  |\n| GET /users/current/accounts/:accountId/historical-market-data/symbols/:symbol/ticks | 0.1 + (number of ticks returned) \\* 0.0002 |\n| GET /users/current/accounts/:accountId/historical-market-data/symbols/:symbol/timeframes/:timeframe/candles | 0.1 + (number of candles returned) \\* 0.0004 |\n\nBelow is the table of the cost of each websocket/SDK API request in credits. Please note that only RPC API requests consume CPU credits. Real-time streaming API does not consume any credits.\n\n| Path | Credits |\n| --- | --- |\n| getAccountInformation or get\\_account\\_information | 50  |\n| getPositions or get\\_positions | 50  |\n| getPosition or get\\_position | 50  |\n| getOrders or get\\_orders | 50  |\n| getOrder or get\\_order | 50  |\n| getHistoryOrdersByTicket or get\\_history\\_orders\\_by\\_ticket | 50  |\n| getHistoryOrdersByPosition or get\\_history\\_orders\\_by\\_position | 50  |\n| getHistoryOrdersByTimeRange or get\\_history\\_orders\\_by\\_time\\_range | 75 + (number of history orders found) \\* 0.65 |\n| getDealsByTicket or get\\_deals\\_by\\_ticket | 50  |\n| getDealsByPosition or get\\_deals\\_by\\_position | 50  |\n| getDealsByTimeRange or get\\_deals\\_by\\_time\\_range | 75 + (number of deals found) \\* 0.65 |\n| trade methods | 10  |\n| getSymbols or get\\_symbols | 500 |\n| getSymbolSpecification or get\\_symbol\\_specification | 50  |\n| getSymbolPrice or get\\_symbol\\_price | 50  |\n| getCandle or get\\_candle | 50  |\n| getTick or get\\_tick | 50  |\n| getBook or get\\_book | 50 + (number of book records) \\* 0.1 |\n| subscribeToMarketData or subscribe\\_to\\_market\\_data | 50  |\n| unsubscribeFromMarketData or unsubscribe\\_from\\_market\\_data | 50  |\n| refreshTerminalState or refresh\\_terminal\\_state | 50  |\n| refreshSymbolQuotes or refresh\\_symbol\\_quotes | 10  |\n\n## Real-time market data streaming rate limiting[#](#real-time-market-data-streaming-rate-limiting \"Permanent link\")\n\nIf you hit a market data streaming rate limit, then server will send you downgradeSubscription event. You can handle it via onSubscriptionDowngraded / on\\_subscription\\_downgraded event handler in SDK.\n\n### What should I do if I hit a market data streaming rate limits?[#](#what-should-i-do-if-i-hit-a-market-data-streaming-rate-limits \"Permanent link\")\n\nIf you hit a rate limit for market data subscriptions please make sure you unsubscribe from unwanted market data and also make sure you did not accidentaly made any unwanted heavy subscriptions.\n\nNote that MT platform will subscribe to quotes of some symbols implicitly. E.g. if you have an EUR account and subscribe to a symbol which is nominated in USD (such as GBPUSD) then MT will automatically subscribe to the quotes of the symbol required to convert USD to EUR, i.e. EURUSD.\n\nIf you have no excessive subscriptions but still hitting the limit, then distribute your market data subscriptions across several accounts.\n\n### How market data streaming rate limits are calculated[#](#how-market-data-streaming-rate-limits-are-calculated \"Permanent link\")\n\nEach market data streaming event server sends to you costs some market data streaming credits.\n\nEach account maintains an independent market data streaming credit accounting.\n\nYour available credits are listed in the table below.\n\n| Period | Credits available |\n| --- | --- |\n| 10 seconds | 31500 |\n| 1 minute | 126000 |\n| 5 minutes | 315000 |\n\nEach market data streaming packet sent to you cost 2 credits. Each quote or candle your receive costs 2 credits. Each tick or order book entry you receive costs 1 credit.\n\nObviously market depth data subscriptions are usually most heavy, followed by tick data subscriptions.\n\n### How much market data I can receive given these limits?[#](#how-much-market-data-i-can-receive-given-these-limits \"Permanent link\")\n\n5 minute limit allows you to receive approximately 200K ticks which approximately equals to daily throughput on most active EURUSD symbol.\n\n5 minute limit allows you to receive approximately 20K order books (given the average size of order book equal to 10) which approximately equals to 10% of the daily throughput on most active EURUSD symbol.\n\nThus you should have plenty of room for your market data subscriptions.\n\n## Real-time terminal state synchronization limits[#](#real-time-terminal-state-synchronization-limits \"Permanent link\")\n\nSDK performs terminal state synchronization in several steps. First, it is emitting a subscribe request to subscribe to the account synchronization events. Then it issues a synchronize request to synchronize to the terminal state.\n\nThere are three types of rate limits defined:\n\n*   subscribe request rate limits\n*   limits on the number of account subscriptions your application can establish\n*   limits on the number of terminal state synchronizations\n\nYou are unlikely to ever worry about these limits as SDK is designed to observe the limits and react to rate limiting errors correctly.\n\n### Subscribe request rate limits[#](#subscribe-request-rate-limits \"Permanent link\")\n\nSubscribe request is rate-limited based on the number of requests allowed from one account.\n\nThe number of available requests is multiplied by the number of deployed accounts.\n\nBelow is a table of how many requests can be made over a period of time.\n\n| Period | Requests available |\n| --- | --- |\n| 1 minute | 10  |\n\n### Limits on the number of account subscriptions your application can establish[#](#limits-on-the-number-of-account-subscriptions-your-application-can-establish \"Permanent link\")\n\nThere are currently two account susbcriptions limits:\n\n*   total number of account subscriptions per application per server\n*   total number of account subscriptions per application\n*   total number of account subscriptions per server (applied to all users)\n\n#### Total number of account subscriptions per server[#](#total-number-of-account-subscriptions-per-server \"Permanent link\")\n\nOne user can subscribe to more than 300 accounts on one server, if you try to subscribe to more accounts, the server will respond with error 429 (TooManyRequests).\n\nError example:\n\n`{   \"id\": 1,   \"error\": \"TooManyRequestsError\",   \"message\": \"One user can connect to one server no more than 300 accounts. Current number of connected accounts 300. For more information see https://metaapi.cloud/docs/client/rateLimiting/\",   \"metadata\": {     \"maxAccountsPerUserPerServer\": 300,     \"accountsCount\":  300,     \"recommendedRetryTime\": \"2021-02-05T16:59:17.029Z\",     \"type\": \"LIMIT_ACCOUNT_SUBSCRIPTIONS_PER_USER_PER_SERVER\"   } }`\n\n#### Total number of account subscriptions per application[#](#total-number-of-account-subscriptions-per-application \"Permanent link\")\n\nThis limit is calculated as the number of accounts deployed by the user multiplied by 10.\n\nFor example, if you have 5 accounts, then you can make no more than total of 50 subscriptions on all servers in the system.\n\nError example:\n\n`{   \"id\": 1,   \"error\": \"TooManyRequestsError\",   \"message\": \"You have used all your account subscriptions quota. You have 50 account subscriptions available and have used 50 subscriptions. Please deploy more accounts to get more subscriptions. For more information see https://metaapi.cloud/docs/client/rateLimiting/\",   \"metadata\": {     \"maxAccountsPerUser\":  50,     \"accountsCount\": 50,     \"recommendedRetryTime\": \"2021-02-05T16:59:17.029Z\",     \"type\": \"LIMIT_ACCOUNT_SUBSCRIPTIONS_PER_USER\"   } }`\n\n#### Total number of account subscriptions per server (applied to all users)[#](#total-number-of-account-subscriptions-per-server-applied-to-all-users \"Permanent link\")\n\nIf the server is overloaded, it will ask you to try to connect to another server.\n\nError example:\n\n`{   \"id\": 1,   \"error\": \"TooManyRequestsError\",   \"message\": \"You can not subscribe to more accounts on this connection because server is out of capacity. Please establish a new connection with a different client-id header value to switch to a different server. For more information see https://metaapi.cloud/docs/client/rateLimiting/\",   \"metadata\": {     \"changeClientIdHeader\": true,     \"recommendedRetryTime\": \"2021-02-05T16:59:17.029Z\",     \"type\": \"LIMIT_ACCOUNT_SUBSCRIPTIONS_PER_SERVER\"   } }`\n\n### Limits on the number of terminal state synchronizations[#](#limits-on-the-number-of-terminal-state-synchronizations \"Permanent link\")\n\nThe MetaApi limits the number of simultaneous synchronizations from one user.\n\nYour application can synchronize to not more than 10% of the total number of the accounts you have subscribed to. The value is rounded to the closest greater integer and can not be less than 1.\n\nFor example, if you have subscriebed to 23 accounts, then you can execute a maximum of 3 concurrent synchronizations.\n\nError example:\n\n`{   \"id\": 1,   \"error\": \"TooManyRequestsError\",   \"message\": \"It seems like you attempted to run too many concurrent synchronizations on this server. You can have maximum of 10 concurrent synchronizations on this server because you have subscribed to 100 accounts on the server and you are allowed to execute one concurrent synchronization per 10 account subscriptions. For more information see https://metaapi.cloud/docs/client/rateLimiting/\",   \"metadata\": {     \"maxSynchronizationsCount\": 10,     \"subscribedAccountsCount\": 100,     \"synchronizationsPerAccount\": 10,     \"recommendedRetryTime\": \"2021-02-05T16:59:17.029Z\",     \"type\": \"LIMIT_ACCOUNT_SYNCHRONIZATIONS_PER_USER_PER_SERVER\"   } }`"
},
{
  "markdown": "## Launching API server[#](#launching-api-server \"Permanent link\")\n\nThe API servers for user terminals can be launched in a cloud via [web application](https://app.metaapi.cloud/accounts) MetaApi provides.\n\nOur users can also access provisioning REST API which can be used to launch the API servers.\n\nOnce you add your MetaTrader account using this API it will return you an accountId value which you then can use to invoke the APIs described in the current documentation.\n\nFor more information see [Provisioning API documentation](https://metaapi.cloud/docs/provisioning)"
},
{
  "markdown": "## Regions support[#](#regions-support \"Permanent link\")\n\nMetaApi support deployment in different regions (geographical locations) including cross-region deployments. This makes it possible to deploy your accounts next to your broker to reduce network latency in your application.\n\nA hot standby cross-region failover option is available.\n\nCurrently we provide a public access to new-york, london and singapore regions our of box.\n\nNetwork latency to brokers located in New York, London or Singapore is less than 1ms.\n\n## Custom regions[#](#custom-regions \"Permanent link\")\n\nYou can request a custom region to be deployed in the location of your choice. This is currently a paid option. Please contact us via online chat to discuss this option."
},
{
  "markdown": "## REST API[#](#rest-api \"Permanent link\")\n\nMetaApi supports the REST API and WebSocket API (socket.io) for communicating with the client. This section describes how to interact with the application using the REST API.\n\n## Documentation structure[#](#documentation-structure \"Permanent link\")\n\nEach request to MetaApi using the REST API is synchronous, that is, the server sends a response only after completion of the desired command (for example, receiving data or creating a new order). Each section below contains a description of the request, request parameters, and possible responses. There are also examples of requests and responses.\n\n## Testing the API[#](#testing-the-api \"Permanent link\")\n\nYou can use [Swagger documentation](https://mt-client-api-v1.new-york.agiliumtrade.ai/swagger/#!/default) in order to test the REST API. It explains each feature of the MetaApi REST API and allows you to test the API."
},
{
  "markdown": "## Resource slots[#](#resource-slots \"Permanent link\")\n\nIn scenarios when you have many accounts trading in correlation (e.g. copying the same strategy) the trade or signal latency may increase because the accounts will compete for CPU available.\n\nIn order to reduce trade latency in scenarios like this you can allocate extra resource slots to the accounts so that each account have more RAM and CPU allocated to them.\n\n## High-level explanation of how resource slots works[#](#high-level-explanation-of-how-resource-slots-works \"Permanent link\")\n\nEach server has a fixed number of resource slots. You can think of them as virtual CPUs.\n\nPlease be aware about some specific scenarios which might affect your trade or signal latency.\n\nIf you trade uncorrelated strategies on accounts, then at the moment trade is executed only single or a few accounts execute a trade. So that they share a plenty of free CPU and your trade executes with minimal latency even if a single resource slot allocated to the account.\n\nAllocating more resource slots to accounts will not make any difference in this scenario because there is already plenty of resources available.\n\nSuppose now that the server has 16 resource slots available and you created 12 accounts with 1 resource slot and 1 account with 4 resource slots. Suppose the accounts will be placed on the same server. Suppose also you are trading the same strategy on all these accounts.\n\nWhen you execute the trade, 13 accounts will execute it concurrently, so all CPU power will be shared across 13 accounts.\n\nThis means that you will not see any significant improvement in trade copying latency in this scenario for the account which have 4 resource slots assigned.\n\nSuppose now that the server has 16 resource slots available and you created 4 accounts with 4 resource slots each and the system placed them all on the same server. Suppose the account are trading the same strategy.\n\nWhen you execute a trade, only 4 accounts will execute it concurrently, so that each will get 4x more CPU power.\n\nThis means that you will see a significant improvement in trade copying latency in this scenario."
},
{
  "markdown": "## Read account information[#](#read-account-information \"Permanent link\")\n\n## About[#](#about \"Permanent link\")\n\nReturns account information for a specified MetaTrader account\n\n`GET /users/current/accounts/:accountId/account-information`\n\nFor more information see [Swagger documentation](https://mt-client-api-v1.new-york.agiliumtrade.ai/swagger/#!/default/get_users_current_accounts_accountId_account_information). Note, that this URL is valid for new-york region only. You can find URLs for other regions on [API access page](https://app.metaapi.cloud/token).\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| auth-token | string | Yes | authorization token. See [Authentication & authorization](https://metaapi.cloud/docs/client/restApi/auth/) |\n\n### Path parameters[#](#path-parameters \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| accountId | string | Yes | MetaTrader account id. You can retrieve account id from [Web application](https://app.metaapi.cloud/accounts) after you add your MetaTrader account to our platform. The account id can also be obtained via [Provisioning API](https://metaapi.cloud/docs/client/launchingApi/) |\n\n### Query parameters[#](#query-parameters \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| refreshTerminalState | boolean |     | whether to refresh terminal state before retrieving the data, slowing down the request. Defaults to false |\n\nResponses:\n\n*   200 - Account information for a specified MetaTrader account returned successfully. Response schema: [MetatraderAccountInformation](https://metaapi.cloud/docs/client/models/metatraderAccountInformation/)\n*   401 - Authorization failed. Response schema: [Error](https://metaapi.cloud/docs/client/models/error/)\n*   404 - MetaTrader account not found or not provisioned yet. Response schema: [Error](https://metaapi.cloud/docs/client/models/error/)\n\n## Examples[#](#examples \"Permanent link\")\n\nExample request:\n\n`curl -X GET --header 'Accept: application/json' --header 'auth-token: token' 'https://mt-client-api-v1.new-york.agiliumtrade.ai/users/current/accounts/865d3a4d-3803-486d-bdf3-a85679d9fad2/account-information'`\n\nExample response:\n\n`{   \"broker\": \"True ECN Trading Ltd\",   \"currency\": \"USD\",   \"server\": \"ICMarketsSC-Demo\",   \"balance\": 7319.9,   \"equity\": 7306.649913200001,   \"margin\": 184.1,   \"freeMargin\": 7120.22,   \"leverage\": 100,   \"marginLevel\": 3967.58283542,   \"tradeAllowed\": true,   \"marginMode\": \"ACCOUNT_MARGIN_MODE_RETAIL_HEDGING\",   \"name\": \"Will Turner\",   \"login\": 367906877,   \"credit\": 0,   \"accountCurrencyExchangeRate\": 1,   \"type\": \"ACCOUNT_TRADE_MODE_DEMO\" }`"
},
{
  "markdown": "## Read positions[#](#read-positions \"Permanent link\")\n\n## About[#](#about \"Permanent link\")\n\nReturns positions for a specified MetaTrader account\n\n`GET /users/current/accounts/:accountId/positions`\n\nFor more information see [Swagger documentation](https://mt-client-api-v1.new-york.agiliumtrade.ai/swagger/#!/default/get_users_current_accounts_accountId_positions). Note, that this URL is valid for new-york region only. You can find URLs for other regions on [API access page](https://app.metaapi.cloud/token).\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| auth-token | string | Yes | authorization token. See [Authentication & authorization](https://metaapi.cloud/docs/client/restApi/auth/) |\n\n### Path parameters[#](#path-parameters \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| accountId | string | Yes | MetaTrader account id. You can retrieve account id from [Web application](https://app.metaapi.cloud/accounts) after you add your MetaTrader account to our platform. The account id can also be obtained via [Provisioning API](https://metaapi.cloud/docs/client/launchingApi/) |\n\n### Query parameters[#](#query-parameters \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| refreshTerminalState | boolean |     | whether to refresh terminal state before retrieving the data, slowing down the request. Defaults to false |\n\nResponses:\n\n*   200 - Positions for a specified MetaTrader account returned successfully. Response schema: [Array<MetatraderPosition>](https://metaapi.cloud/docs/client/models/metatraderPosition/)\n*   401 - Authorization failed. Response schema: [Error](https://metaapi.cloud/docs/client/models/error/)\n*   404 - MetaTrader account not found or not provisioned yet. Response schema: [Error](https://metaapi.cloud/docs/client/models/error/)\n\n## Examples[#](#examples \"Permanent link\")\n\nExample request:\n\n`curl -X GET --header 'Accept: application/json' --header 'auth-token: token' 'https://mt-client-api-v1.new-york.agiliumtrade.ai/users/current/accounts/865d3a4d-3803-486d-bdf3-a85679d9fad2/positions'`\n\nExample response:\n\n`[   {     \"id\": \"46648037\",     \"type\": \"POSITION_TYPE_BUY\",     \"symbol\": \"AUDNZD\",     \"magic\": 1000,     \"time\": \"2020-04-17T04:30:03.223Z\",     \"brokerTime\": \"2020-04-17 07:30:03.223\",     \"openPrice\": 1.05782,     \"currentPrice\": 1.05307,     \"currentTickValue\": 0.5994,     \"stopLoss\": 0.99876,     \"volume\": 0.1,     \"swap\": -0.5,     \"profit\": -28.472110000000026,     \"updateTime\": \"2020-04-20T08:54:42.119Z\",     \"commission\": -0.5,     \"clientId\": \"AS_AUDNZD_46648037\",     \"unrealizedProfit\": -28.471500000000194,     \"realizedProfit\": -0.0006099999998312455   } ]`"
},
{
  "markdown": "In order to invoke MetaApi REST API you have to provide an authorization token via auth-token header. An API request will produce error 401 if for some reason the token specified in auth-token header turned out to be invalid and the authorization failed.\n\nThe token can be retrieved via MetaApi [Web application](https://app.metaapi.cloud/token)."
},
{
  "markdown": "## Read position by id[#](#read-position-by-id \"Permanent link\")\n\n## About[#](#about \"Permanent link\")\n\nReturns specific position for a MetaTrader account\n\n`GET /users/current/accounts/:accountId/positions/:positionId`\n\nFor more information see [Swagger documentation](https://mt-client-api-v1.new-york.agiliumtrade.ai/swagger/#!/default/get_users_current_accounts_accountId_positions_positionId). Note, that this URL is valid for new-york region only. You can find URLs for other regions on [API access page](https://app.metaapi.cloud/token).\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| auth-token | string | Yes | authorization token. See [Authentication & authorization](https://metaapi.cloud/docs/client/restApi/auth/) |\n\n### Path parameters[#](#path-parameters \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| accountId | string | Yes | MetaTrader account id. You can retrieve account id from [Web application](https://app.metaapi.cloud/accounts) after you add your MetaTrader account to our platform. The account id can also be obtained via [Provisioning API](https://metaapi.cloud/docs/client/launchingApi/) |\n| positionId | string | Yes | position id (ticket number) |\n\n### Query parameters[#](#query-parameters \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| refreshTerminalState | boolean |     | whether to refresh terminal state before retrieving the data, slowing down the request. Defaults to false |\n\nResponses:\n\n*   200 - Position for a specified MetaTrader account returned successfully. Response schema: [MetatraderPosition](https://metaapi.cloud/docs/client/models/metatraderPosition/)\n*   401 - Authorization failed. Response schema: [Error](https://metaapi.cloud/docs/client/models/error/)\n*   404 - MetaTrader account not found or not provisioned yet or requested position does not exist. Response schema: [Error](https://metaapi.cloud/docs/client/models/error/)\n\n## Examples[#](#examples \"Permanent link\")\n\nExample request:\n\n`curl -X GET --header 'Accept: application/json' --header 'auth-token: token' 'https://mt-client-api-v1.new-york.agiliumtrade.ai/users/current/accounts/865d3a4d-3803-486d-bdf3-a85679d9fad2/positions/46648037'`\n\nExample response:\n\n`{   \"id\": \"46648037\",   \"type\": \"POSITION_TYPE_BUY\",   \"symbol\": \"AUDNZD\",   \"magic\": 1000,   \"time\": \"2020-04-17T04:30:03.223Z\",   \"brokerTime\": \"2020-04-17 07:30:03.223\",   \"openPrice\": 1.05782,   \"currentPrice\": 1.05299,   \"currentTickValue\": 0.59971,   \"stopLoss\": 0.99877,   \"volume\": 0.1,   \"swap\": -0.5,   \"profit\": -28.96846699999893,   \"updateTime\": \"2020-04-20T08:54:42.119Z\",   \"commission\": -0.5,   \"clientId\": \"AS_AUDNZD_46648037\",   \"unrealizedProfit\": -28.96599299999934,   \"realizedProfit\": -0.002473999999590859 }`"
},
{
  "markdown": "## Read orders[#](#read-orders \"Permanent link\")\n\n## About[#](#about \"Permanent link\")\n\nReturns open orders for a specified MetaTrader account\n\n`GET /users/current/accounts/:accountId/orders`\n\nFor more information see [Swagger documentation](https://mt-client-api-v1.new-york.agiliumtrade.ai/swagger/#!/default/get_users_current_accounts_accountId_orders). Note, that this URL is valid for new-york region only. You can find URLs for other regions on [API access page](https://app.metaapi.cloud/token).\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| auth-token | string | Yes | authorization token. See [Authentication & authorization](https://metaapi.cloud/docs/client/restApi/auth/) |\n\n### Path parameters[#](#path-parameters \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| accountId | string | Yes | MetaTrader account id. You can retrieve account id from [Web application](https://app.metaapi.cloud/accounts) after you add your MetaTrader account to our platform. The account id can also be obtained via [Provisioning API](https://metaapi.cloud/docs/client/launchingApi/) |\n\n### Query parameters[#](#query-parameters \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| refreshTerminalState | boolean |     | whether to refresh terminal state before retrieving the data, slowing down the request. Defaults to false |\n\nResponses:\n\n*   200 - Open orders for a specified MetaTrader account returned successfully. Response schema: [Array<MetatraderOrder>](https://metaapi.cloud/docs/client/models/metatraderOrder/)\n*   401 - Authorization failed. Response schema: [Error](https://metaapi.cloud/docs/client/models/error/)\n*   404 - MetaTrader account not found or not provisioned yet. Response schema: [Error](https://metaapi.cloud/docs/client/models/error/)\n\n## Examples[#](#examples \"Permanent link\")\n\nExample request:\n\n`curl -X GET --header 'Accept: application/json' --header 'auth-token: token' 'https://mt-client-api-v1.new-york.agiliumtrade.ai/users/current/accounts/865d3a4d-3803-486d-bdf3-a85679d9fad2/orders'`\n\nExample response:\n\n`[   {     \"id\": \"47067192\",     \"type\": \"ORDER_TYPE_BUY_LIMIT\",     \"state\": \"ORDER_STATE_PLACED\",     \"symbol\": \"AUDNZD\",     \"magic\": 123456,     \"time\": \"2020-04-21T07:39:18.904Z\",     \"brokerTime\": \"2020-04-21 10:39:18.904\",     \"platform\": \"mt5\",     \"openPrice\": 1.05235,     \"currentPrice\": 1.05335,     \"volume\": 0.01,     \"currentVolume\": 0.01   } ]`"
},
{
  "markdown": "## Read order by id[#](#read-order-by-id \"Permanent link\")\n\n## About[#](#about \"Permanent link\")\n\nReturns specific open order for a MetaTrader account\n\n`GET /users/current/accounts/:accountId/orders/:orderId`\n\nFor more information see [Swagger documentation](https://mt-client-api-v1.new-york.agiliumtrade.ai/swagger/#!/default/get_users_current_accounts_accountId_orders_orderId). Note, that this URL is valid for new-york region only. You can find URLs for other regions on [API access page](https://app.metaapi.cloud/token).\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| auth-token | string | Yes | authorization token. See [Authentication & authorization](https://metaapi.cloud/docs/client/restApi/auth/) |\n\n### Path parameters[#](#path-parameters \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| accountId | string | Yes | MetaTrader account id. You can retrieve account id from [Web application](https://app.metaapi.cloud/accounts) after you add your MetaTrader account to our platform. The account id can also be obtained via [Provisioning API](https://metaapi.cloud/docs/client/launchingApi/) |\n| orderId | string | Yes | order id (ticket number) |\n\n### Query parameters[#](#query-parameters \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| refreshTerminalState | boolean |     | whether to refresh terminal state before retrieving the data, slowing down the request. Defaults to false |\n\nResponses:\n\n*   200 - Order for a specified MetaTrader account returned successfully. Response schema: [MetatraderOrder](https://metaapi.cloud/docs/client/models/metatraderOrder/)\n*   401 - Authorization failed. Response schema: [Error](https://metaapi.cloud/docs/client/models/error/)\n*   404 - MetaTrader account not found or not provisioned yet or requested order does not exist. Response schema: [Error](https://metaapi.cloud/docs/client/models/error/)\n\n## Examples[#](#examples \"Permanent link\")\n\nExample request:\n\n`curl -X GET --header 'Accept: application/json' --header 'auth-token: token' 'https://mt-client-api-v1.new-york.agiliumtrade.ai/users/current/accounts/865d3a4d-3803-486d-bdf3-a85679d9fad2/orders/47067192'`\n\nExample response:\n\n`{   \"id\": \"47067192\",   \"type\": \"ORDER_TYPE_BUY_LIMIT\",   \"state\": \"ORDER_STATE_PLACED\",   \"symbol\": \"AUDNZD\",   \"magic\": 123456,   \"time\": \"2020-04-21T07:39:18.904Z\",   \"brokerTime\": \"2020-04-21 10:39:18.904\",   \"openPrice\": 1.05235,   \"currentPrice\": 1.05335,   \"platform\": \"mt5\",   \"volume\": 0.01,   \"currentVolume\": 0.01 }`"
},
{
  "markdown": "## Read server time[#](#read-server-time \"Permanent link\")\n\n## About[#](#about \"Permanent link\")\n\nReturns server time for a specified MetaTrader account\n\n`GET /users/current/accounts/:accountId/server-time`\n\nFor more information see [Swagger documentation](https://mt-client-api-v1.new-york.agiliumtrade.ai/swagger/#!/default/get_users_current_accounts_accountId_server_time). Note, that this URL is valid for new-york region only. You can find URLs for other regions on [API access page](https://app.metaapi.cloud/token).\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| auth-token | string | Yes | authorization token. See [Authentication & authorization](https://metaapi.cloud/docs/client/restApi/auth/) |\n\n### Path parameters[#](#path-parameters \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| accountId | string | Yes | MetaTrader account id. You can retrieve account id from [Web application](https://app.metaapi.cloud/accounts) after you add your MetaTrader account to our platform. The account id can also be obtained via [Provisioning API](https://metaapi.cloud/docs/client/launchingApi/) |\n\nResponses:\n\n*   200 - Server time for a specified MetaTrader account returned successfully. Response schema: [ServerTime](https://metaapi.cloud/docs/client/models/serverTime/)\n*   401 - Authorization failed. Response schema: [Error](https://metaapi.cloud/docs/client/models/error/)\n*   404 - MetaTrader account not found or not provisioned yet. Response schema: [Error](https://metaapi.cloud/docs/client/models/error/)\n\n## Examples[#](#examples \"Permanent link\")\n\nExample request:\n\n`curl -X GET --header 'Accept: application/json' --header 'auth-token: token' 'https://mt-client-api-v1.new-york.agiliumtrade.ai/users/current/accounts/865d3a4d-3803-486d-bdf3-a85679d9fad2/server-time'`\n\nExample response:\n\n`{   \"time\": \"2022-04-05T12:54:55.345Z\",   \"brokerTime\": \"2022-04-05 15:54:55.345\",   \"lastQuoteTime\": \"2022-04-05T12:54:55.145Z\",   \"lastQuoteBrokerTime\": \"2022-04-05 15:54:55.145\" }`"
},
{
  "markdown": "## About[#](#about \"Permanent link\")\n\nReturns the history of completed orders for a specific ticket number\n\n`GET /users/current/accounts/:accountId/history-orders/ticket/:ticket`\n\nFor more information see [Swagger documentation](https://mt-client-api-v1.new-york.agiliumtrade.ai/swagger/#!/default/get_users_current_accounts_accountId_history_orders_ticket_ticket). Note, that this URL is valid for new-york region only. You can find URLs for other regions on [API access page](https://app.metaapi.cloud/token).\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| auth-token | string | Yes | authorization token. See [Authentication & authorization](https://metaapi.cloud/docs/client/restApi/auth/) |\n\n### Path parameters[#](#path-parameters \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| accountId | string | Yes | MetaTrader account id. You can retrieve account id from [Web application](https://app.metaapi.cloud/accounts) after you add your MetaTrader account to our platform. The account id can also be obtained via [Provisioning API](https://metaapi.cloud/docs/client/launchingApi/) |\n| ticket | string | Yes | ticket number (order id) |\n\nResponses:\n\n*   200 - History orders with requested ticket number for a specified MetaTrader account returned successfully. Response schema: [Array<MetatraderOrder>](https://metaapi.cloud/docs/client/models/metatraderOrder/)\n*   401 - Authorization failed. Response schema: [Error](https://metaapi.cloud/docs/client/models/error/)\n*   404 - MetaTrader account not found or not provisioned yet. Response schema: [Error](https://metaapi.cloud/docs/client/models/error/)\n\n## Examples[#](#examples \"Permanent link\")\n\nExample request:\n\n`curl -X GET --header 'Accept: application/json' --header 'auth-token: token' 'https://mt-client-api-v1.new-york.agiliumtrade.ai/users/current/accounts/865d3a4d-3803-486d-bdf3-a85679d9fad2/history-orders/ticket/46648037'`\n\nExample response:\n\n`[   {     \"clientId\": \"AS_AUDNZD_3zfxXl3RvJ\",     \"currentPrice\": 1.05782,     \"currentVolume\": 0,     \"doneTime\": \"2020-04-17T04:30:03.223Z\",     \"doneBrokerTime\": \"2020-04-17 07:30:03.223\",     \"id\": \"46648037\",     \"magic\": 1000,     \"platform\": \"mt5\",     \"positionId\": \"46648037\",     \"state\": \"ORDER_STATE_FILLED\",     \"symbol\": \"AUDNZD\",     \"time\": \"2020-04-17T04:30:02.966Z\",     \"brokerTime\": \"2020-04-17 07:30:02.966\",     \"type\": \"ORDER_TYPE_BUY\",     \"volume\": 0.12   } ]`"
},
{
  "markdown": "## Read deals by position[#](#read-deals-by-position \"Permanent link\")\n\n## About[#](#about \"Permanent link\")\n\nReturns history deals for a specific position id\n\n`GET /users/current/accounts/:accountId/history-deals/position/:positionId`\n\nFor more information see [Swagger documentation](https://mt-client-api-v1.new-york.agiliumtrade.ai/swagger/#!/default/get_users_current_accounts_accountId_history_deals_position_positionId). Note, that this URL is valid for new-york region only. You can find URLs for other regions on [API access page](https://app.metaapi.cloud/token).\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| auth-token | string | Yes | authorization token. See [Authentication & authorization](https://metaapi.cloud/docs/client/restApi/auth/) |\n\n### Path parameters[#](#path-parameters \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| accountId | string | Yes | MetaTrader account id. You can retrieve account id from [Web application](https://app.metaapi.cloud/accounts) after you add your MetaTrader account to our platform. The account id can also be obtained via [Provisioning API](https://metaapi.cloud/docs/client/launchingApi/) |\n| positionId | string | Yes | position id |\n\nResponses:\n\n*   200 - History deals with requested position id for a specified MetaTrader account returned successfully. Response schema: [Array<MetatraderDeal>](https://metaapi.cloud/docs/client/models/metatraderDeal/)\n*   401 - Authorization failed. Response schema: [Error](https://metaapi.cloud/docs/client/models/error/)\n*   404 - MetaTrader account not found or not provisioned yet. Response schema: [Error](https://metaapi.cloud/docs/client/models/error/)\n\n## Examples[#](#examples \"Permanent link\")\n\nExample request:\n\n`curl -X GET --header 'Accept: application/json' --header 'auth-token: token' 'https://mt-client-api-v1.new-york.agiliumtrade.ai/users/current/accounts/865d3a4d-3803-486d-bdf3-a85679d9fad2/history-deals/position/46648037'`\n\nExample response:\n\n`[   {     \"clientId\": \"AS_AUDNZD_3zfxXl3RvJ\",     \"commission\": -0.42,     \"entryType\": \"DEAL_ENTRY_IN\",     \"id\": \"33582357\",     \"magic\": 1000,     \"platform\": \"mt5\",     \"orderId\": \"46648037\",     \"positionId\": \"46648037\",     \"price\": 1.05782,     \"profit\": 0,     \"swap\": 0,     \"symbol\": \"AUDNZD\",     \"time\": \"2020-04-17T04:30:03.223Z\",     \"brokerTime\": \"2020-04-17 07:30:03.223\",     \"type\": \"DEAL_TYPE_BUY\",     \"volume\": 0.12   } ]`"
},
{
  "markdown": "## Read deals by ticket[#](#read-deals-by-ticket \"Permanent link\")\n\n## About[#](#about \"Permanent link\")\n\nReturns history deals with a specific ticket number\n\n`GET /users/current/accounts/:accountId/history-deals/ticket/:ticket`\n\nFor more information see [Swagger documentation](https://mt-client-api-v1.new-york.agiliumtrade.ai/swagger/#!/default/get_users_current_accounts_accountId_history_deals_ticket_ticket). Note, that this URL is valid for new-york region only. You can find URLs for other regions on [API access page](https://app.metaapi.cloud/token).\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| auth-token | string | Yes | authorization token. See [Authentication & authorization](https://metaapi.cloud/docs/client/restApi/auth/) |\n\n### Path parameters[#](#path-parameters \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| accountId | string | Yes | MetaTrader account id. You can retrieve account id from [Web application](https://app.metaapi.cloud/accounts) after you add your MetaTrader account to our platform. The account id can also be obtained via [Provisioning API](https://metaapi.cloud/docs/client/launchingApi/) |\n| ticket | string | Yes | ticket number (deal id for MT5 or order id for MT4) |\n\nResponses:\n\n*   200 - History deals with requested ticket number for a specified MetaTrader account returned successfully. Response schema: [Array<MetatraderDeal>](https://metaapi.cloud/docs/client/models/metatraderDeal/)\n*   401 - Authorization failed. Response schema: [Error](https://metaapi.cloud/docs/client/models/error/)\n*   404 - MetaTrader account not found or not provisioned yet. Response schema: [Error](https://metaapi.cloud/docs/client/models/error/)\n\n## Examples[#](#examples \"Permanent link\")\n\nExample request:\n\n`curl -X GET --header 'Accept: application/json' --header 'auth-token: token' 'https://mt-client-api-v1.new-york.agiliumtrade.ai/users/current/accounts/865d3a4d-3803-486d-bdf3-a85679d9fad2/history-deals/ticket/46648037'`\n\nExample response:\n\n`[   {     \"clientId\": \"TE_GBPUSD_7hyINWqAlE\",     \"commission\": -0.25,     \"entryType\": \"DEAL_ENTRY_IN\",     \"id\": \"46648037\",     \"magic\": 1000,     \"platform\": \"mt5\",     \"orderId\": \"46214692\",     \"positionId\": \"46214692\",     \"price\": 1.26101,     \"profit\": 0,     \"swap\": 0,     \"symbol\": \"GBPUSD\",     \"time\": \"2020-04-15T02:45:06.521Z\",     \"brokerTime\": \"2020-04-15 05:45:06.521\",     \"type\": \"DEAL_TYPE_BUY\",     \"volume\": 0.07   } ]`"
},
{
  "markdown": "## About[#](#about \"Permanent link\")\n\nReturns the history of completed orders for a specific time range\n\n`GET /users/current/accounts/:accountId/history-orders/time/:startTime/:endTime`\n\nFor more information see [Swagger documentation](https://mt-client-api-v1.new-york.agiliumtrade.ai/swagger/#!/default/get_users_current_accounts_accountId_history_orders_time_startTime_endTime). Note, that this URL is valid for new-york region only. You can find URLs for other regions on [API access page](https://app.metaapi.cloud/token).\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| auth-token | string | Yes | authorization token. See [Authentication & authorization](https://metaapi.cloud/docs/client/restApi/auth/) |\n\n### Path parameters[#](#path-parameters \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| accountId | string | Yes | MetaTrader account id. You can retrieve account id from [Web application](https://app.metaapi.cloud/accounts) after you add your MetaTrader account to our platform. The account id can also be obtained via [Provisioning API](https://metaapi.cloud/docs/client/launchingApi/) |\n| startTime | string(datetime) | Yes | start of time range, inclusive (in [ISO format](https://en.wikipedia.org/wiki/ISO_8601)) |\n| endTime | string(datetime) | Yes | end of time range, exclusive (in [ISO format](https://en.wikipedia.org/wiki/ISO_8601)) |\n\n### Query parameters[#](#query-parameters \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| offset | number |     | pagination offset, default: `0`, min: `0` |\n| limit | number |     | pagination limit, default: `1000`, min: `1`, max: `1000` |\n\nResponses:\n\n*   200 - History orders with requested time range for a specified MetaTrader account returned successfully. Response schema: [Array<MetatraderOrder>](https://metaapi.cloud/docs/client/models/metatraderOrder/)\n*   401 - Authorization failed. Response schema: [Error](https://metaapi.cloud/docs/client/models/error/)\n*   404 - MetaTrader account not found or not provisioned yet. Response schema: [Error](https://metaapi.cloud/docs/client/models/error/)\n\n## Examples[#](#examples \"Permanent link\")\n\nExample request:\n\n`curl -X GET --header 'Accept: application/json' --header 'auth-token: token' 'https://mt-client-api-v1.new-york.agiliumtrade.ai/users/current/accounts/865d3a4d-3803-486d-bdf3-a85679d9fad2/history-orders/time/2020-04-20T04:00:00.000Z/2020-04-21T06:00:00.000Z'`\n\nExample response:\n\n`[   {     \"clientId\": \"AS_AUDNZD_YSwKkvRe1B\",     \"currentPrice\": 1.05068,     \"currentVolume\": 0,     \"doneTime\": \"2020-04-20T05:30:04.361Z\",     \"doneBrokerTime\": \"2020-04-20 08:30:04.361\",     \"id\": \"46849507\",     \"magic\": 1000,     \"platform\": \"mt5\",     \"positionId\": \"46849507\",     \"state\": \"ORDER_STATE_FILLED\",     \"symbol\": \"AUDNZD\",     \"time\": \"2020-04-20T05:30:04.101Z\",     \"brokerTime\": \"2020-04-20 08:30:04.101\",     \"type\": \"ORDER_TYPE_BUY\",     \"volume\": 0.12   } ]`"
},
{
  "markdown": "## About[#](#about \"Permanent link\")\n\nReturns history deals with for a specific time range\n\n`GET /users/current/accounts/:accountId/history-deals/time/:startTime/:endTime`\n\nFor more information see [Swagger documentation](https://mt-client-api-v1.new-york.agiliumtrade.ai/swagger/#!/default/get_users_current_accounts_accountId_history_deals_time_startTime_endTime). Note, that this URL is valid for new-york region only. You can find URLs for other regions on [API access page](https://app.metaapi.cloud/token).\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| auth-token | string | Yes | authorization token. See [Authentication & authorization](https://metaapi.cloud/docs/client/restApi/auth/) |\n\n### Path parameters[#](#path-parameters \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| accountId | string | Yes | MetaTrader account id. You can retrieve account id from [Web application](https://app.metaapi.cloud/accounts) after you add your MetaTrader account to our platform. The account id can also be obtained via [Provisioning API](https://metaapi.cloud/docs/client/launchingApi/) |\n| startTime | string(datetime) | Yes | start of time range, inclusive (in [ISO format](https://en.wikipedia.org/wiki/ISO_8601)) |\n| endTime | string(datetime) | Yes | end of time range, exclusive (in [ISO format](https://en.wikipedia.org/wiki/ISO_8601)) |\n\n### Query parameters[#](#query-parameters \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| offset | number |     | pagination offset, default: `0`, min: `0` |\n| limit | number |     | pagination limit, default: `1000`, min: `1`, max: `1000` |\n\nResponses:\n\n*   200 - History deals with requested time range for a specified MetaTrader account returned successfully. Response schema: [Array<MetatraderDeal>](https://metaapi.cloud/docs/client/models/metatraderDeal/)\n*   401 - Authorization failed. Response schema: [Error](https://metaapi.cloud/docs/client/models/error/)\n*   404 - MetaTrader account not found or not provisioned yet. Response schema: [Error](https://metaapi.cloud/docs/client/models/error/)\n\n## Examples[#](#examples \"Permanent link\")\n\nExample request:\n\n`curl -X GET --header 'Accept: application/json' --header 'auth-token: token' 'https://mt-client-api-v1.new-york.agiliumtrade.ai/users/current/accounts/865d3a4d-3803-486d-bdf3-a85679d9fad2/history-deals/time/2020-04-20T04:00:00.000Z/2020-04-21T06:00:00.000Z'`\n\nExample response:\n\n`[   {     \"clientId\": \"AS_AUDNZD_YSwKkvRe1B\",     \"commission\": -0.42,     \"entryType\": \"DEAL_ENTRY_IN\",     \"id\": \"33744217\",     \"magic\": 1000,     \"platform\": \"mt5\",     \"orderId\": \"46849507\",     \"positionId\": \"46849507\",     \"price\": 1.05068,     \"profit\": 0,     \"swap\": 0,     \"symbol\": \"AUDNZD\",     \"time\": \"2020-04-20T05:30:04.361Z\",     \"brokerTime\": \"2020-04-20 08:30:04.361\",     \"type\": \"DEAL_TYPE_BUY\",     \"volume\": 0.12   } ]`"
},
{
  "markdown": "## Read symbols[#](#read-symbols \"Permanent link\")\n\n## About[#](#about \"Permanent link\")\n\nReturns symbols available on an account\n\n`GET /users/current/accounts/:accountId/symbols`\n\nFor more information see [Swagger documentation](https://mt-client-api-v1.new-york.agiliumtrade.ai/swagger/#!/default/get_users_current_accounts_accountId_symbols). Note, that this URL is valid for new-york region only. You can find URLs for other regions on [API access page](https://app.metaapi.cloud/token).\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| auth-token | string | Yes | authorization token. See [Authentication & authorization](https://metaapi.cloud/docs/client/restApi/auth/) |\n\n### Path parameters[#](#path-parameters \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| accountId | string | Yes | MetaTrader account id. You can retrieve account id from [Web application](https://app.metaapi.cloud/accounts) after you add your MetaTrader account to our platform. The account id can also be obtained via [Provisioning API](https://metaapi.cloud/docs/client/launchingApi/) |\n\nResponses:\n\n*   200 - Symbols returned successfully. Response schema: Array\n*   401 - Authorization failed. Response schema: [Error](https://metaapi.cloud/docs/client/models/error/)\n*   404 - MetaTrader account not found or not provisioned yet or symbol is not defined for this broker. Response schema: [Error](https://metaapi.cloud/docs/client/models/error/)\n\n## Examples[#](#examples \"Permanent link\")\n\nExample request:\n\n`curl -X GET --header 'Accept: application/json' --header 'auth-token: token' 'https://mt-client-api-v1.new-york.agiliumtrade.ai/users/current/accounts/865d3a4d-3803-486d-bdf3-a85679d9fad2/symbols'`\n\nExample response:"
},
{
  "markdown": "## Read symbol price[#](#read-symbol-price \"Permanent link\")\n\n## About[#](#about \"Permanent link\")\n\nReturns current price for a specific symbol\n\n`GET /users/current/accounts/:accountId/symbols/:symbol/current-price`\n\nFor more information see [Swagger documentation](https://mt-client-api-v1.new-york.agiliumtrade.ai/swagger/#!/default/get_users_current_accounts_accountId_symbols_symbol_current_price). Note, that this URL is valid for new-york region only. You can find URLs for other regions on [API access page](https://app.metaapi.cloud/token).\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| auth-token | string | Yes | authorization token. See [Authentication & authorization](https://metaapi.cloud/docs/client/restApi/auth/) |\n\n### Path parameters[#](#path-parameters \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| accountId | string | Yes | MetaTrader account id. You can retrieve account id from [Web application](https://app.metaapi.cloud/accounts) after you add your MetaTrader account to our platform. The account id can also be obtained via [Provisioning API](https://metaapi.cloud/docs/client/launchingApi/) |\n| symbol | string | Yes | symbol (e.g. a currency pair or an index) |\n\n### Query parameters[#](#query-parameters \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| keepSubscription | boolean |     | if set to true, the account will get a long-term subscription to symbol market data. Long-term subscription means that on subsequent calls you will get updated value faster. If set to false or not set, the subscription will be set to expire in 12 minutes. |\n\nResponses:\n\n*   200 - Current price returned successfully. Response schema: [MetatraderSymbolPrice](https://metaapi.cloud/docs/client/models/metatraderSymbolPrice/)\n*   401 - Authorization failed. Response schema: [Error](https://metaapi.cloud/docs/client/models/error/)\n*   404 - MetaTrader account not found or not provisioned yet or symbol is not defined for this broker. Response schema: [Error](https://metaapi.cloud/docs/client/models/error/)\n\n## Examples[#](#examples \"Permanent link\")\n\nExample request:\n\n`curl -X GET --header 'Accept: application/json' --header 'auth-token: token' 'https://mt-client-api-v1.new-york.agiliumtrade.ai/users/current/accounts/865d3a4d-3803-486d-bdf3-a85679d9fad2/symbols/AUDNZD/current-price'`\n\nExample response:\n\n`{   \"symbol\": \"AUDNZD\",   \"bid\": 1.05297,   \"ask\": 1.05309,   \"profitTickValue\": 0.59731,   \"lossTickValue\": 0.59736,   \"time\": \"2020-04-07T03:45:23.345Z\",   \"brokerTime\": \"2020-04-07 06:45:23.345\" }`"
},
{
  "markdown": "## About[#](#about \"Permanent link\")\n\nReturns the history of completed orders for a specific position id\n\n`GET /users/current/accounts/:accountId/history-orders/position/:positionId`\n\nFor more information see [Swagger documentation](https://mt-client-api-v1.new-york.agiliumtrade.ai/swagger/#!/default/get_users_current_accounts_accountId_history_orders_position_positionId). Note, that this URL is valid for new-york region only. You can find URLs for other regions on [API access page](https://app.metaapi.cloud/token).\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| auth-token | string | Yes | authorization token. See [Authentication & authorization](https://metaapi.cloud/docs/client/restApi/auth/) |\n\n### Path parameters[#](#path-parameters \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| accountId | string | Yes | MetaTrader account id. You can retrieve account id from [Web application](https://app.metaapi.cloud/accounts) after you add your MetaTrader account to our platform. The account id can also be obtained via [Provisioning API](https://metaapi.cloud/docs/client/launchingApi/) |\n| positionId | string | Yes | position id |\n\nResponses:\n\n*   200 - History orders with requested position id for a specified MetaTrader account returned successfully. Response schema: [Array<MetatraderOrder>](https://metaapi.cloud/docs/client/models/metatraderOrder/)\n*   401 - Authorization failed. Response schema: [Error](https://metaapi.cloud/docs/client/models/error/)\n*   404 - MetaTrader account not found or not provisioned yet. Response schema: [Error](https://metaapi.cloud/docs/client/models/error/)\n\n## Examples[#](#examples \"Permanent link\")\n\nExample request:\n\n`curl -X GET --header 'Accept: application/json' --header 'auth-token: token' 'https://mt-client-api-v1.new-york.agiliumtrade.ai/users/current/accounts/865d3a4d-3803-486d-bdf3-a85679d9fad2/history-orders/position/46648037'`\n\nExample response:\n\n`[   {     \"clientId\": \"AS_AUDNZD_3zfxXl3RvJ\",     \"currentPrice\": 1.05782,     \"currentVolume\": 0,     \"doneTime\": \"2020-04-17T04:30:03.223Z\",     \"doneBrokerTime\": \"2020-04-17 07:30:03.223\",     \"id\": \"46648037\",     \"magic\": 1000,     \"platform\": \"mt5\",     \"positionId\": \"46648037\",     \"state\": \"ORDER_STATE_FILLED\",     \"symbol\": \"AUDNZD\",     \"time\": \"2020-04-17T04:30:02.966Z\",     \"brokerTime\": \"2020-04-17 07:30:02.966\",     \"type\": \"ORDER_TYPE_BUY\",     \"volume\": 0.12   } ]`"
},
{
  "markdown": "`GET /users/current/accounts/:accountId/symbols/:symbol/specification`\n\nFor more information see [Swagger documentation](https://mt-client-api-v1.new-york.agiliumtrade.ai/swagger/#!/default/get_users_current_accounts_accountId_symbols_symbol_specification). Note, that this URL is valid for new-york region only. You can find URLs for other regions on [API access page](https://app.metaapi.cloud/token).\n\n`curl -X GET --header 'Accept: application/json' --header 'auth-token: token' 'https://mt-client-api-v1.new-york.agiliumtrade.ai/users/current/accounts/865d3a4d-3803-486d-bdf3-a85679d9fad2/symbols/AUDNZD/specification'`\n\n`{   \"symbol\": \"AUDNZD\",   \"tickSize\": 0.00001,   \"minVolume\": 0.01,   \"maxVolume\": 100,   \"volumeStep\": 0.01,   \"contractSize\": 100000,   \"quoteSessions\": {     \"SUNDAY\": [],     \"MONDAY\": [{\"from\": \"00:00:00.000\", \"to\": \"23:59:59.999\"}],     \"TUESDAY\": [{\"from\": \"00:00:00.000\", \"to\": \"23:59:59.999\"}],     \"WEDNESDAY\": [{\"from\": \"00:00:00.000\", \"to\": \"23:59:59.999\"}],     \"THURSDAY\": [{\"from\": \"00:00:00.000\", \"to\": \"23:59:59.999\"}],     \"FRIDAY\": [{\"from\": \"00:00:00.000\", \"to\": \"23:59:59.999\"}],     \"SATURDAY\": []   },   \"tradeSessions\": {     \"SUNDAY\": [],     \"MONDAY\": [{\"from\": \"00:05:00.000\", \"to\": \"23:59:59.999\"}],     \"TUESDAY\": [{\"from\": \"00:05:00.000\", \"to\": \"23:59:59.999\"}],     \"WEDNESDAY\": [{\"from\": \"00:05:00.000\", \"to\": \"23:59:59.999\"}],     \"THURSDAY\": [{\"from\": \"00:05:00.000\", \"to\": \"23:59:59.999\"}],     \"FRIDAY\": [{\"from\": \"00:05:00.000\", \"to\": \"23:59:59.999\"}],     \"SATURDAY\": []   },   \"initialMargin\": 100000,   \"maintenenceMargin\": 0,   \"hedgedMargin\": 0,   \"priceCalculationMode\": \"SYMBOL_CALC_MODE_FOREX\",   \"marginCurrency\": \"AUD\",   \"baseCurrency\": \"AUD\",   \"profitCurrency\": \"NZD\",   \"swapMode\": \"SYMBOL_SWAP_MODE_DISABLED\",   \"allowedExpirationModes\": [\"SYMBOL_EXPIRATION_GTC\", \"SYMBOL_EXPIRATION_DAY\", \"SYMBOL_EXPIRATION_SPECIFIED\", \"SYMBOL_EXPIRATION_SPECIFIED_DAY\"],   \"allowedOrderTypes\": [\"SYMBOL_ORDER_MARKET\", \"SYMBOL_ORDER_LIMIT\", \"SYMBOL_ORDER_STOP\", \"SYMBOL_ORDER_STOP_LIMIT\", \"SYMBOL_ORDER_SL\", \"SYMBOL_ORDER_TP\", \"SYMBOL_ORDER_CLOSEBY\"],   \"digits\": 5,   \"description\": \"Australian Dollar vs New Zealand Dollar\" }`"
},
{
  "markdown": "## Read candle (OHLCV)[#](#read-candle-ohlcv \"Permanent link\")\n\n## About[#](#about \"Permanent link\")\n\nReturns current candle for a specific symbol and timeframe\n\n`GET /users/current/accounts/:accountId/symbols/:symbol/current-candles/:timeframe`\n\nFor more information see [Swagger documentation](https://mt-client-api-v1.new-york.agiliumtrade.ai/swagger/#!/default/get_users_current_accounts_accountId_symbols_symbol_current_candles_timeframe). Note, that this URL is valid for new-york region only. You can find URLs for other regions on [API access page](https://app.metaapi.cloud/token).\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| auth-token | string | Yes | authorization token. See [Authentication & authorization](https://metaapi.cloud/docs/client/restApi/auth/) |\n\n### Path parameters[#](#path-parameters \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| accountId | string | Yes | MetaTrader account id. You can retrieve account id from [Web application](https://app.metaapi.cloud/accounts) after you add your MetaTrader account to our platform. The account id can also be obtained via [Provisioning API](https://metaapi.cloud/docs/client/launchingApi/) |\n| symbol | string | Yes | symbol (e.g. a currency pair or an index) |\n| timeframe | string | Yes | defines the timeframe according to which the candle must be generated. Allowed values for MT5 are 1m, 2m, 3m, 4m, 5m, 6m, 10m, 12m, 15m, 20m, 30m, 1h, 2h, 3h, 4h, 6h, 8h, 12h, 1d, 1w, 1mn. Allowed values for MT4 are 1m, 5m, 15m 30m, 1h, 4h, 1d, 1w, 1mn |\n\n### Query parameters[#](#query-parameters \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| keepSubscription | boolean |     | if set to true, the account will get a long-term subscription to symbol market data. Long-term subscription means that on subsequent calls you will get updated value faster. If set to false or not set, the subscription will be set to expire in 12 minutes. |\n\nResponses:\n\n*   200 - Current candle returned successfully. Response schema: [MetatraderCandle](https://metaapi.cloud/docs/client/models/metatraderCandle/)\n*   401 - Authorization failed. Response schema: [Error](https://metaapi.cloud/docs/client/models/error/)\n*   404 - MetaTrader account not found or not provisioned yet or symbol is not defined for this broker. Response schema: [Error](https://metaapi.cloud/docs/client/models/error/)\n\n## Examples[#](#examples \"Permanent link\")\n\nExample request:\n\n`curl -X GET --header 'Accept: application/json' --header 'auth-token: token' 'https://mt-client-api-v1.new-york.agiliumtrade.ai/users/current/accounts/865d3a4d-3803-486d-bdf3-a85679d9fad2/symbols/AUDNZD/current-candles/15m'`\n\nExample response:\n\n`{   \"symbol\": \"AUDNZD\",   \"timeframe\": \"15m\",   \"time\": \"2020-04-07T03:45:00.000Z\",   \"brokerTime\": \"2020-04-07 06:45:00.000\",   \"open\": 1.03297,   \"high\": 1.06309,   \"low\": 1.02705,   \"close\": 1.043,   \"tickVolume\": 1435,   \"spread\": 17,   \"volume\": 345 }`"
},
{
  "markdown": "## Read latest symbol tick[#](#read-latest-symbol-tick \"Permanent link\")\n\n## About[#](#about \"Permanent link\")\n\nRetrieves current tick for a symbol. MT4 G1 accounts do not support this API\n\n`GET /users/current/accounts/:accountId/symbols/:symbol/current-tick`\n\nFor more information see [Swagger documentation](https://mt-client-api-v1.new-york.agiliumtrade.ai/swagger/#!/default/get_users_current_accounts_accountId_symbols_symbol_current_tick). Note, that this URL is valid for new-york region only. You can find URLs for other regions on [API access page](https://app.metaapi.cloud/token).\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| auth-token | string | Yes | authorization token. See [Authentication & authorization](https://metaapi.cloud/docs/client/restApi/auth/) |\n\n### Path parameters[#](#path-parameters \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| accountId | string | Yes | MetaTrader account id. You can retrieve account id from [Web application](https://app.metaapi.cloud/accounts) after you add your MetaTrader account to our platform. The account id can also be obtained via [Provisioning API](https://metaapi.cloud/docs/client/launchingApi/) |\n| symbol | string | Yes | symbol (e.g. a currency pair or an index) |\n\n### Query parameters[#](#query-parameters \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| keepSubscription | boolean |     | if set to true, the account will get a long-term subscription to symbol market data. Long-term subscription means that on subsequent calls you will get updated value faster. If set to false or not set, the subscription will be set to expire in 12 minutes. |\n\nResponses:\n\n*   200 - Current tick returned successfully. Response schema: [MetatraderTick](https://metaapi.cloud/docs/client/models/metatraderTick/)\n*   401 - Authorization failed. Response schema: [Error](https://metaapi.cloud/docs/client/models/error/)\n*   404 - MetaTrader account not found or not provisioned yet or symbol is not defined for this broker. Response schema: [Error](https://metaapi.cloud/docs/client/models/error/)\n\n## Examples[#](#examples \"Permanent link\")\n\nExample request:\n\n`curl -X GET --header 'Accept: application/json' --header 'auth-token: token' 'https://mt-client-api-v1.new-york.agiliumtrade.ai/users/current/accounts/865d3a4d-3803-486d-bdf3-a85679d9fad2/symbols/AUDNZD/current-tick'`\n\nExample response:\n\n`{   \"symbol\": \"AUDNZD\",   \"time\": \"2020-04-07T03:45:00.000Z\",   \"brokerTime\": \"2020-04-07 06:45:00.000\",   \"bid\": 1.05297,   \"ask\": 1.05309,   \"last\": 0.5298,   \"volume\": 0.13,   \"side\": \"buy\" }`"
},
{
  "markdown": "## Read latest order book[#](#read-latest-order-book \"Permanent link\")\n\n## About[#](#about \"Permanent link\")\n\nRetrieves current order book for a symbol. MT4 accounts do not support this API\n\n`GET /users/current/accounts/:accountId/symbols/:symbol/current-book`\n\nFor more information see [Swagger documentation](https://mt-client-api-v1.new-york.agiliumtrade.ai/swagger/#!/default/get_users_current_accounts_accountId_symbols_symbol_current_book). Note, that this URL is valid for new-york region only. You can find URLs for other regions on [API access page](https://app.metaapi.cloud/token).\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| auth-token | string | Yes | authorization token. See [Authentication & authorization](https://metaapi.cloud/docs/client/restApi/auth/) |\n\n### Path parameters[#](#path-parameters \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| accountId | string | Yes | MetaTrader account id. You can retrieve account id from [Web application](https://app.metaapi.cloud/accounts) after you add your MetaTrader account to our platform. The account id can also be obtained via [Provisioning API](https://metaapi.cloud/docs/client/launchingApi/) |\n| symbol | string | Yes | symbol (e.g. a currency pair or an index) |\n\n### Query parameters[#](#query-parameters \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| keepSubscription | boolean |     | if set to true, the account will get a long-term subscription to symbol market data. Long-term subscription means that on subsequent calls you will get updated value faster. If set to false or not set, the subscription will be set to expire in 12 minutes. |\n\nResponses:\n\n*   200 - Current order book returned successfully. Response schema: [MetatraderBook](https://metaapi.cloud/docs/client/models/metatraderBook/)\n*   401 - Authorization failed. Response schema: [Error](https://metaapi.cloud/docs/client/models/error/)\n*   404 - MetaTrader account not found or not provisioned yet or symbol is not defined for this broker. Response schema: [Error](https://metaapi.cloud/docs/client/models/error/)\n\n## Examples[#](#examples \"Permanent link\")\n\nExample request:\n\n`curl -X GET --header 'Accept: application/json' --header 'auth-token: token' 'https://mt-client-api-v1.new-york.agiliumtrade.ai/users/current/accounts/865d3a4d-3803-486d-bdf3-a85679d9fad2/symbols/AUDNZD/current-book'`\n\nExample response:\n\n`{   \"symbol\": \"AUDNZD\",   \"time\": \"2020-04-07T03:45:00.000Z\",   \"brokerTime\": \"2020-04-07 06:45:00.000\",   \"book\": [     {       \"type\": \"BOOK_TYPE_SELL\",       \"price\": 1.05309,       \"volume\": 5.67     },     {       \"type\": \"BOOK_TYPE_BUY\",       \"price\": 1.05297,       \"volume\": 3.45     }   ] }`"
},
{
  "markdown": "## Read historical candles (OHLCV)[#](#read-historical-candles-ohlcv \"Permanent link\")\n\n## About[#](#about \"Permanent link\")\n\nReturns historical candles for a specific symbol and timeframe from a MetaTrader account\n\n`GET /users/current/accounts/:accountId/historical-market-data/symbols/:symbol/timeframes/:timeframe/candles`\n\n_Note: this API is hosted on a different hostname than other MetaApi APIs. Please check the code example below._\n\n_Note: this API might require MT terminal to download and process much data at once causing delays in request execution which may be greater than default timeout of 4 minutes._\n\n_Note: there is a bug in MT5 terminal which causes the terminal to hang in infinite cycle is candles are requested for a symbol with missing market data which causes the API to stop reaponding to the requests. A workaround is to redeploy your account._\n\nFor more information see [Swagger documentation](https://mt-market-data-client-api-v1.new-york.agiliumtrade.ai/swagger/#!/default/get_users_current_accounts_accountId_historical_market_data_symbols_symbol_timeframes_timeframe_candles). Note, that this URL is valid for new-york region only. You can find URLs for other regions on [API access page](https://app.metaapi.cloud/token).\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| auth-token | string | Yes | authorization token. See [Authentication & authorization](https://metaapi.cloud/docs/client/restApi/auth/) |\n\n### Path parameters[#](#path-parameters \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| accountId | string | Yes | MetaTrader account id. You can retrieve account id from [Web application](https://app.metaapi.cloud/accounts) after you add your MetaTrader account to our platform. The account id can also be obtained via [Provisioning API](https://metaapi.cloud/docs/client/launchingApi/) |\n| symbol | string | Yes | symbol to retrieve historical candles for (e.g. a currency pair or an index) |\n| timeframe | string | Yes | defines the timeframe according to which the candles must be generated. Allowed values for MT5 are 1m, 2m, 3m, 4m, 5m, 6m, 10m, 12m, 15m, 20m, 30m, 1h, 2h, 3h, 4h, 6h, 8h, 12h, 1d, 1w, 1mn. Allowed values for MT4 are 1m, 5m, 15m 30m, 1h, 4h, 1d, 1w, 1mn |\n\n### Query parameters[#](#query-parameters \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| startTime | datetime |     | time to start loading candles from. Note that candles are loaded in backwards direction, so this should be the latest time. Leave empty to request latest candles. |\n| limit | integer |     | maximum number of candles to retrieve. Must be less or equal to 1000 |\n\nResponses:\n\n*   200 - Historical candles for a specified symbol, timeframe and MetaTrader account returned successfully. Response schema: array<[MetatraderCandle](https://metaapi.cloud/docs/client/models/metatraderCandle/)\\>\n*   401 - Authorization failed. Response schema: [Error](https://metaapi.cloud/docs/client/models/error/)\n*   404 - MetaTrader account not found or not provisioned yet or symbol is not defined for this broker. Response schema: [Error](https://metaapi.cloud/docs/client/models/error/)\n\n## Examples[#](#examples \"Permanent link\")\n\nExample request:\n\n`curl -X GET --header 'Accept: application/json' --header 'auth-token: token' 'https://mt-market-data-client-api-v1.new-york.agiliumtrade.ai/users/current/accounts/865d3a4d-3803-486d-bdf3-a85679d9fad2/historical-market-data/symbols/AUDNZD/timeframes/15m/candles?startTime=2020-04-07T03:45:00.000Z&limit=1'`\n\nExample response:\n\n`[{   \"symbol\": \"AUDNZD\",   \"timeframe\": \"15m\",   \"time\": \"2020-04-07T03:45:00.000Z\",   \"brokerTime\": \"2020-04-07 06:45:00.000\",   \"open\": 1.03297,   \"high\": 1.06309,   \"low\": 1.02705,   \"close\": 1.043,   \"tickVolume\": 1435,   \"spread\": 17,   \"volume\": 345 }]`"
},
{
  "markdown": "## Calculate margin[#](#calculate-margin \"Permanent link\")\n\n## About[#](#about \"Permanent link\")\n\nCalculates margin required to open a trade on the specified trading account.\n\n`POST /users/current/accounts/:accountId/calculate-margin`\n\nFor more information see [Swagger documentation](https://mt-client-api-v1.new-york.agiliumtrade.ai/swagger/#!/default/post_users_current_accounts_accountId_calculate_margin). Note, that this URL is valid for new-york region only. You can find URLs for other regions on [API access page](https://app.metaapi.cloud/token).\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| auth-token | string | Yes | authorization token. See [Authentication & authorization](https://metaapi.cloud/docs/client/restApi/auth/) |\n\n### Path parameters[#](#path-parameters \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| accountId | string | Yes | MetaTrader account id. You can retrieve account id from [Web application](https://app.metaapi.cloud/accounts) after you add your MetaTrader account to our platform. The account id can also be obtained via [Provisioning API](https://metaapi.cloud/docs/client/launchingApi/) |\n\n### Body[#](#body \"Permanent link\")\n\nTo execute the command, it is necessary to supply the request body in the format of the [MarginOrder](https://metaapi.cloud/docs/client/models/marginOrder/) model.\n\n## Response[#](#response \"Permanent link\")\n\nPossible error response codes are listed [here](https://www.mql5.com/en/docs/constants/errorswarnings/enum_trade_return_codes).\n\nResponses:\n\n*   200 - Margin for the specified trading account returned successfully. Response schema: [Margin](https://metaapi.cloud/docs/client/models/margin/)\n*   400 - Payload is not valid. Response schema: [Error](https://metaapi.cloud/docs/client/models/error/)\n*   401 - Authorization failed. Response schema: [Error](https://metaapi.cloud/docs/client/models/error/)\n*   404 - Trading account not found or not provisioned yet. Response schema: [Error](https://metaapi.cloud/docs/client/models/error/)\n\n##### Examples[#](#examples \"Permanent link\")\n\nExample request:\n\n`curl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' --header 'auth-token: token' -d '{   \"symbol\": \"EURUSD\",   \"type\":\"ORDER_TYPE_BUY\",   \"volume\": 0.1,   \"openPrice\": 1.1 }' 'https://mt-client-api-v1.new-york.agiliumtrade.ai/users/current/accounts/865d3a4d-3803-486d-bdf3-a85679d9fad2/calculate-margin'`\n\nExample response:"
},
{
  "markdown": "## Read historical symbol ticks[#](#read-historical-symbol-ticks \"Permanent link\")\n\n## About[#](#about \"Permanent link\")\n\nReturns historical ticks for a specific symbol from a MetaTrader account. This API is not suppoted by MT4 accounts.\n\n`GET /users/current/accounts/:accountId/historical-market-data/symbols/:symbol/ticks`\n\n_Note: this API is hosted on a different hostname than other MetaApi APIs. Please check the code example below._\n\n_Note: this API might require MT terminal to download and process much data at once causing delays in request execution which may be greater than default timeout of 4 minutes._\n\nFor more information see [Swagger documentation](https://mt-market-data-client-api-v1.new-york.agiliumtrade.ai/swagger/#!/default/get_users_current_accounts_accountId_historical_market_data_symbols_symbol_ticks). Note, that this URL is valid for new-york region only. You can find URLs for other regions on [API access page](https://app.metaapi.cloud/token).\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| auth-token | string | Yes | authorization token. See [Authentication & authorization](https://metaapi.cloud/docs/client/restApi/auth/) |\n\n### Path parameters[#](#path-parameters \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| accountId | string | Yes | MetaTrader account id. You can retrieve account id from [Web application](https://app.metaapi.cloud/accounts) after you add your MetaTrader account to our platform. The account id can also be obtained via [Provisioning API](https://metaapi.cloud/docs/client/launchingApi/) |\n| symbol | string | Yes | symbol to retieve historical ticks for (e.g. a currency pair or an index) |\n\n### Query parameters[#](#query-parameters \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| startTime | datetime |     | time to start loading ticks from. Note that ticks are loaded in forward direction, so this should be the earliest time. Leave empty to request latest ticks |\n| offset | integer |     | number of ticks to skip (you can use it to avoid requesting ticks from previous request twice) |\n| limit | integer |     | maximum number of ticks to retrieve. Must be less or equal to 1000 |\n\nResponses:\n\n*   200 - Historical ticks for a specified symbol and MetaTrader account returned successfully. Response schema: array<[MetatraderTick](https://metaapi.cloud/docs/client/models/metatraderTick/)\\>\n*   401 - Authorization failed. Response schema: [Error](https://metaapi.cloud/docs/client/models/error/)\n*   404 - MetaTrader account not found or not provisioned yet or symbol is not defined for this broker. Response schema: [Error](https://metaapi.cloud/docs/client/models/error/)\n\n## Examples[#](#examples \"Permanent link\")\n\nExample request:\n\n`curl -X GET --header 'Accept: application/json' --header 'auth-token: token' 'https://mt-market-data-client-api-v1.new-york.agiliumtrade.ai/users/current/accounts/865d3a4d-3803-486d-bdf3-a85679d9fad2/historical-market-data/symbols/AUDNZD/ticks?startTime=2020-04-07T03:45:00.000Z&limit=1'`\n\nExample response:\n\n`[{   \"symbol\": \"AUDNZD\",   \"time\": \"2020-04-07T03:45:00.000Z\",   \"brokerTime\": \"2020-04-07 06:45:00.000\",   \"bid\": 1.05297,   \"ask\": 1.05309,   \"last\": 0.5298,   \"volume\": 0.13,   \"side\": \"buy\" }]`"
},
{
  "markdown": "## Trade[#](#trade \"Permanent link\")\n\n## About[#](#about \"Permanent link\")\n\nExecutes a trade on a connected MetaTrader account\n\n`POST /users/current/accounts/:accountId/trade`\n\nFor more information see [Swagger documentation](https://mt-client-api-v1.new-york.agiliumtrade.ai/swagger/#!/default/post_users_current_accounts_accountId_trade). Note, that this URL is valid for new-york region only. You can find URLs for other regions on [API access page](https://app.metaapi.cloud/token).\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| auth-token | string | Yes | authorization token. See [Authentication & authorization](https://metaapi.cloud/docs/client/restApi/auth/) |\n\n### Path parameters[#](#path-parameters \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| accountId | string | Yes | MetaTrader account id. You can retrieve account id from [Web application](https://app.metaapi.cloud/accounts) after you add your MetaTrader account to our platform. The account id can also be obtained via [Provisioning API](https://metaapi.cloud/docs/client/launchingApi/) |\n\n### Body[#](#body \"Permanent link\")\n\nTo execute the command, it is necessary to supply the request body in the format of the [MetatraderTrade](https://metaapi.cloud/docs/client/models/metatraderTrade/) model.\n\nThe following describes schemas for each type of command.\n\n#### ORDER\\_TYPE\\_SELL or ORDER\\_TYPE\\_BUY[#](#order_type_sell-or-order_type_buy \"Permanent link\")\n\nSubmits market order to the trading terminal\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| actionType | string | Yes | action type, enum: `ORDER_TYPE_SELL`, `ORDER_TYPE_BUY` |\n| symbol | string | Yes | symbol to trade |\n| volume | number | Yes | order volume, min: `0` |\n| stopLoss | number |     | stop loss price, min: `0` |\n| takeProfit | number |     | take profit price, min: `0` |\n| stopLossUnits | string |     | stop loss units. ABSOLUTE\\_PRICE means the that the value of stopLoss field is a final stop loss value. RELATIVE\\_\\* means that the stopLoss field value contains relative stop loss expressed either in price, points, pips, account currency or balance percentage. Default is ABSOLUTE\\_PRICE. enum: `ABSOLUTE_PRICE`, `RELATIVE_PRICE`, `RELATIVE_POINTS`, `RELATIVE_PIPS`, `RELATIVE_CURRENCY`, `RELATIVE_BALANCE_PERCENTAGE` |\n| takeProfitUnits | string |     | take profit units. ABSOLUTE\\_PRICE means the that the value of takeProfit field is a final take profit value. RELATIVE\\_\\* means that the takeProfit field value contains relative take profit expressed either in price, points, pips, account currency or balance percentage. Default is ABSOLUTE\\_PRICE. enum: `ABSOLUTE_PRICE`, `RELATIVE_PRICE`, `RELATIVE_POINTS`, `RELATIVE_PIPS`, `RELATIVE_CURRENCY`, `RELATIVE_BALANCE_PERCENTAGE` |\n| trailingStopLoss | [TrailingStopLoss](https://metaapi.cloud/docs/client/models/trailingStopLoss/) |     | distance trailing stop loss configuration |\n| comment | string |     | order comment. The sum of the line lengths of the `comment` and the `clientId` must be less than or equal to 26. For more information see [`clientId` usage](https://metaapi.cloud/docs/client/clientIdUsage/) |\n| clientId | string |     | client-assigned id. The id value will be present on position, history orders and history deals related to this order. You can use this field to bind your trades to objects in your application and then track trade progress. The sum of the line lengths of the `comment` and the `clientId` must be less than or equal to 26. For more information see [`clientId` usage](https://metaapi.cloud/docs/client/clientIdUsage/) |\n| magic | number |     | magic number (expert adviser id) |\n| slippage | number |     | slippage in points. Should be greater or equal to zero. In not set, default value specified in account entity will be used. Slippage is ignored on position modification, order modification and order cancellation calls. Slippage is also ignored if execution mode set in symbol specification is SYMBOL\\_TRADE\\_EXECUTION\\_MARKET. |\n| fillingModes | array |     | allowed filling modes in the order of priority. Default is to allow all filling modes and prefer ORDER\\_FILLING\\_FOK over ORDER\\_FILLING\\_IOC. See [https://www.mql5.com/en/docs/constants/tradingconstants/orderproperties#enum\\_order\\_type\\_filling](https://www.mql5.com/en/docs/constants/tradingconstants/orderproperties#enum_order_type_filling) for extra explanation. |\n\n##### Examples[#](#examples \"Permanent link\")\n\nExample request:\n\n`curl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' --header 'auth-token: token' -d '{ \"actionType\": \"ORDER_TYPE_SELL\", \"symbol\":\"AUDNZD\", \"volume\": 0.01, \"takeProfit\": 1.03 }' 'https://mt-client-api-v1.new-york.agiliumtrade.ai/users/current/accounts/865d3a4d-3803-486d-bdf3-a85679d9fad2/trade'`\n\nExample response:\n\n`{   \"numericCode\": 10009,   \"stringCode\": \"TRADE_RETCODE_DONE\",   \"message\": \"Request completed\",   \"orderId\": \"47137555\" }`\n\n#### ORDER\\_TYPE\\_BUY\\_LIMIT or ORDER\\_TYPE\\_SELL\\_LIMIT or ORDER\\_TYPE\\_BUY\\_STOP or ORDER\\_TYPE\\_SELL\\_STOP[#](#order_type_buy_limit-or-order_type_sell_limit-or-order_type_buy_stop-or-order_type_sell_stop \"Permanent link\")\n\nSubmits pending order to the trading terminal\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| actionType | string | Yes | action type, enum: `ORDER_TYPE_BUY_LIMIT`, `ORDER_TYPE_SELL_LIMIT`, `ORDER_TYPE_BUY_STOP`, `ORDER_TYPE_SELL_STOP` |\n| symbol | string | Yes | symbol to trade |\n| volume | number | Yes | order volume, min: `0` |\n| openPrice | number | Yes | order limit or stop price, min: `0` |\n| stopLoss | number |     | stop loss price, min: `0` |\n| takeProfit | number |     | take profit price, min: `0` |\n| stopLossUnits | string |     | stop loss units. ABSOLUTE\\_PRICE means the that the value of stopLoss field is a final stop loss value. RELATIVE\\_\\* means that the stopLoss field value contains relative stop loss expressed either in price, points, pips, account currency or balance percentage. Default is ABSOLUTE\\_PRICE. enum: `ABSOLUTE_PRICE`, `RELATIVE_PRICE`, `RELATIVE_POINTS`, `RELATIVE_PIPS`, `RELATIVE_CURRENCY`, `RELATIVE_BALANCE_PERCENTAGE` |\n| takeProfitUnits | string |     | take profit units. ABSOLUTE\\_PRICE means the that the value of takeProfit field is a final take profit value. RELATIVE\\_\\* means that the takeProfit field value contains relative take profit expressed either in price, points, pips, account currency or balance percentage. Default is ABSOLUTE\\_PRICE. enum: `ABSOLUTE_PRICE`, `RELATIVE_PRICE`, `RELATIVE_POINTS`, `RELATIVE_PIPS`, `RELATIVE_CURRENCY`, `RELATIVE_BALANCE_PERCENTAGE` |\n| stopPriceBase | string |     | defined the base price to calculate SL/TP relative to for \\*\\_MODIFY and pending order requests. Default is OPEN\\_PRICE. enum: `CURRENT_PRICE`, `OPEN_PRICE` |\n| trailingStopLoss | [TrailingStopLoss](https://metaapi.cloud/docs/client/models/trailingStopLoss/) |     | distance trailing stop loss configuration |\n| openPriceUnits | string |     | open price units. ABSOLUTE\\_PRICE means the that the value of openPrice field is a final open price value. RELATIVE\\_\\* means that the openPrice field value contains relative open price expressed either in price, points, pips, account currency or balance percentage. Default is ABSOLUTE\\_PRICE. enum: `ABSOLUTE_PRICE`, `RELATIVE_PRICE`, `RELATIVE_POINTS`, `RELATIVE_PIPS`, `RELATIVE_CURRENCY`, `RELATIVE_BALANCE_PERCENTAGE` |\n| comment | string |     | order comment. The sum of the line lengths of the `comment` and the `clientId` must be less than or equal to 26. For more information see [`clientId` usage](https://metaapi.cloud/docs/client/clientIdUsage/) |\n| clientId | string |     | client-assigned id. The id value will be present on position, history orders and history deals related to this order. You can use this field to bind your trades to objects in your application and then track trade progress. The sum of the line lengths of the `comment` and the `clientId` must be less than or equal to 26. For more information see [`clientId` usage](https://metaapi.cloud/docs/client/clientIdUsage/) |\n| magic | number |     | magic number (expert adviser id) |\n| slippage | number |     | slippage in points. Should be greater or equal to zero. In not set, default value specified in account entity will be used. Slippage is ignored on position modification, order modification and order cancellation calls. Slippage is also ignored if execution mode set in symbol specification is SYMBOL\\_TRADE\\_EXECUTION\\_MARKET. |\n| expiration | object |     | pending order expiration settings. See Pending order expiration settings section. |\n\n##### Pending order expiration settings[#](#pending-order-expiration-settings \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| type | string | Yes | pending order expiration type. See https://www.mql5.com/en/docs/constants/tradingconstants/orderproperties#enum\\_order\\_type\\_time for the list of possible options. MetaTrader4 platform supports only ORDER\\_TIME\\_SPECIFIED expiration type. enum: `ORDER_TIME_GTC`, `ORDER_TIME_DAY`, `ORDER_TIME_SPECIFIED`, `ORDER_TIME_SPECIFIED_DAY`. |\n| time | datetime |     | pending order expiration time. Ignored if expiration type is not one of ORDER\\_TIME\\_DAY or ORDER\\_TIME\\_SPECIFIED |\n\n##### Examples[#](#examples_1 \"Permanent link\")\n\nExample request:\n\n`curl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' --header 'auth-token: token' -d '{ \"actionType\": \"ORDER_TYPE_BUY_LIMIT\", \"symbol\":\"AUDNZD\", \"volume\": 0.01, \"openPrice\": 1.03 }' 'https://mt-client-api-v1.new-york.agiliumtrade.ai/users/current/accounts/865d3a4d-3803-486d-bdf3-a85679d9fad2/trade'`\n\nExample response:\n\n`{   \"numericCode\": 10009,   \"stringCode\": \"TRADE_RETCODE_DONE\",   \"message\": \"Request completed\",   \"orderId\": \"47067192\" }`\n\n#### ORDER\\_TYPE\\_BUY\\_STOP\\_LIMIT or ORDER\\_TYPE\\_SELL\\_STOP\\_LIMIT[#](#order_type_buy_stop_limit-or-order_type_sell_stop_limit \"Permanent link\")\n\nSubmits pending stop limit order to the trading terminal\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| actionType | string | Yes | action type, enum: `ORDER_TYPE_BUY_STOP_LIMIT`, `ORDER_TYPE_SELL_STOP_LIMIT` |\n| symbol | string | Yes | symbol to trade |\n| volume | number | Yes | order volume, min: `0` |\n| openPrice | number | Yes | order limit or stop price, min: `0` |\n| stopLimitPrice | string | Yes | price at which the StopLimit order will be placed, min: `0` |\n| stopLoss | number |     | stop loss price, min: `0` |\n| takeProfit | number |     | take profit price, min: `0` |\n| stopLossUnits | string |     | stop loss units. ABSOLUTE\\_PRICE means the that the value of stopLoss field is a final stop loss value. RELATIVE\\_\\* means that the stopLoss field value contains relative stop loss expressed either in price, points, pips, account currency or balance percentage. Default is ABSOLUTE\\_PRICE. enum: `ABSOLUTE_PRICE`, `RELATIVE_PRICE`, `RELATIVE_POINTS`, `RELATIVE_PIPS`, `RELATIVE_CURRENCY`, `RELATIVE_BALANCE_PERCENTAGE` |\n| takeProfitUnits | string |     | take profit units. ABSOLUTE\\_PRICE means the that the value of takeProfit field is a final take profit value. RELATIVE\\_\\* means that the takeProfit field value contains relative take profit expressed either in price, points, pips, account currency or balance percentage. Default is ABSOLUTE\\_PRICE. enum: `ABSOLUTE_PRICE`, `RELATIVE_PRICE`, `RELATIVE_POINTS`, `RELATIVE_PIPS`, `RELATIVE_CURRENCY`, `RELATIVE_BALANCE_PERCENTAGE` |\n| stopPriceBase | string |     | defined the base price to calculate SL/TP relative to for \\*\\_MODIFY and pending order requests. Default is OPEN\\_PRICE. enum: `CURRENT_PRICE`, `OPEN_PRICE` |\n| trailingStopLoss | [TrailingStopLoss](https://metaapi.cloud/docs/client/models/trailingStopLoss/) |     | distance trailing stop loss configuration |\n| openPriceBase | string |     | defined the base price to calculate open price relative to for ORDER\\_MODIFY and pending order requests. Default is CURRENT\\_PRICE for pending orders or STOP\\_LIMIT\\_PRICE for stop limit orders. enum: `CURRENT_PRICE`, `STOP_LIMIT_PRICE` |\n| openPriceUnits | string |     | open price units. ABSOLUTE\\_PRICE means the that the value of openPrice field is a final open price value. RELATIVE\\_\\* means that the openPrice field value contains relative open price expressed either in price, points, pips, account currency or balance percentage. Default is ABSOLUTE\\_PRICE. enum: `ABSOLUTE_PRICE`, `RELATIVE_PRICE`, `RELATIVE_POINTS`, `RELATIVE_PIPS`, `RELATIVE_CURRENCY`, `RELATIVE_BALANCE_PERCENTAGE` |\n| stopLimitPriceUnits | string |     | stop limit price units. ABSOLUTE\\_PRICE means the that the value of stopLimitPrice field is a final stop limit price value. RELATIVE\\_\\* means that the stopLimitPrice field value contains relative stop limit price expressed either in price, points, pips, account currency or balance percentage. Default is ABSOLUTE\\_PRICE. enum: `ABSOLUTE_PRICE`, `RELATIVE_PRICE`, `RELATIVE_POINTS`, `RELATIVE_PIPS`, `RELATIVE_CURRENCY`, `RELATIVE_BALANCE_PERCENTAGE` |\n| comment | string |     | order comment. The sum of the line lengths of the `comment` and the `clientId` must be less than or equal to 26. For more information see [`clientId` usage](https://metaapi.cloud/docs/client/clientIdUsage/) |\n| clientId | string |     | client-assigned id. The id value will be present on position, history orders and history deals related to this order. You can use this field to bind your trades to objects in your application and then track trade progress. The sum of the line lengths of the `comment` and the `clientId` must be less than or equal to 26. For more information see [`clientId` usage](https://metaapi.cloud/docs/client/clientIdUsage/) |\n| magic | number |     | magic number (expert adviser id) |\n| slippage | number |     | slippage in points. Should be greater or equal to zero. In not set, default value specified in account entity will be used. Slippage is ignored on position modification, order modification and order cancellation calls. Slippage is also ignored if execution mode set in symbol specification is SYMBOL\\_TRADE\\_EXECUTION\\_MARKET. |\n| expiration | object |     | pending order expiration settings. See Pending order expiration settings section. |\n\n##### Pending order expiration settings[#](#pending-order-expiration-settings_1 \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| type | string | Yes | pending order expiration type. See https://www.mql5.com/en/docs/constants/tradingconstants/orderproperties#enum\\_order\\_type\\_time for the list of possible options. MetaTrader4 platform supports only ORDER\\_TIME\\_SPECIFIED expiration type. enum: `ORDER_TIME_GTC`, `ORDER_TIME_DAY`, `ORDER_TIME_SPECIFIED`, `ORDER_TIME_SPECIFIED_DAY`. |\n| time | datetime |     | pending order expiration time. Ignored if expiration type is not one of ORDER\\_TIME\\_DAY or ORDER\\_TIME\\_SPECIFIED |\n\n##### Examples[#](#examples_2 \"Permanent link\")\n\nExample request:\n\n`curl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' --header 'auth-token: token' -d '{ \"actionType\": \"ORDER_TYPE_BUY_STOP_LIMIT\", \"symbol\":\"AUDNZD\", \"volume\": 0.01, \"openPrice\": 1.03, \"stopLimitPrice\": \"1.01\" }' 'https://mt-client-api-v1.new-york.agiliumtrade.ai/users/current/accounts/865d3a4d-3803-486d-bdf3-a85679d9fad2/trade'`\n\nExample response:\n\n`{   \"numericCode\": 10009,   \"stringCode\": \"TRADE_RETCODE_DONE\",   \"message\": \"Request completed\",   \"orderId\": \"47067192\" }`\n\n#### POSITION\\_MODIFY[#](#position_modify \"Permanent link\")\n\nModifies a position TP/SL price\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| actionType | string | Yes | action type, enum: `POSITION_MODIFY` |\n| positionId | string | Yes | position id (ticket number) |\n| stopLoss | number |     | stop loss price, min: `0` |\n| takeProfit | number |     | take profit price, min: `0` |\n| stopLossUnits | string |     | stop loss units. ABSOLUTE\\_PRICE means the that the value of stopLoss field is a final stop loss value. RELATIVE\\_\\* means that the stopLoss field value contains relative stop loss expressed either in price, points, pips, account currency or balance percentage. Default is ABSOLUTE\\_PRICE. enum: `ABSOLUTE_PRICE`, `RELATIVE_PRICE`, `RELATIVE_POINTS`, `RELATIVE_PIPS`, `RELATIVE_CURRENCY`, `RELATIVE_BALANCE_PERCENTAGE` |\n| takeProfitUnits | string |     | take profit units. ABSOLUTE\\_PRICE means the that the value of takeProfit field is a final take profit value. RELATIVE\\_\\* means that the takeProfit field value contains relative take profit expressed either in price, points, pips, account currency or balance percentage. Default is ABSOLUTE\\_PRICE. enum: `ABSOLUTE_PRICE`, `RELATIVE_PRICE`, `RELATIVE_POINTS`, `RELATIVE_PIPS`, `RELATIVE_CURRENCY`, `RELATIVE_BALANCE_PERCENTAGE` |\n| stopPriceBase | string |     | defined the base price to calculate SL/TP relative to for POSITION\\_MODIFY requests. STOP\\_PRICE means the SL/TP is relative to previous SL/TP value. Default is OPEN\\_PRICE. enum: `CURRENT_PRICE`, `OPEN_PRICE`, `STOP_PRICE` |\n| trailingStopLoss | [TrailingStopLoss](https://metaapi.cloud/docs/client/models/trailingStopLoss/) |     | distance trailing stop loss configuration |\n\n##### Examples[#](#examples_3 \"Permanent link\")\n\nExample request:\n\n`curl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' --header 'auth-token: token' -d '{ \"actionType\": \"POSITION_MODIFY\", \"positionId\":\"46648037\", \"takeProfit\": 1.06 }' 'https://mt-client-api-v1.new-york.agiliumtrade.ai/users/current/accounts/865d3a4d-3803-486d-bdf3-a85679d9fad2/trade'`\n\nExample response:\n\n`{   \"numericCode\": 10009,   \"stringCode\": \"TRADE_RETCODE_DONE\",   \"message\": \"Request completed\",   \"positionId\": \"46648037\" }`\n\n#### POSITION\\_PARTIAL[#](#position_partial \"Permanent link\")\n\nPartially closes a position\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| actionType | string | Yes | action type, enum: `POSITION_PARTIAL` |\n| positionId | string | Yes | position id |\n| volume | number | Yes | volume to close, min: `0` |\n| comment | string |     | order comment. The sum of the line lengths of the `comment` and the `clientId` must be less than or equal to 26. For more information see [`clientId` usage](https://metaapi.cloud/docs/client/clientIdUsage/) |\n| clientId | string |     | client-assigned id. The id value will be present on history orders and history deals related to this order. You can use this field to bind your trades to objects in your application and then track trade progress. The sum of the line lengths of the `comment` and the `clientId` must be less than or equal to 26. For more information see [`clientId` usage](https://metaapi.cloud/docs/client/clientIdUsage/) |\n| magic | number |     | magic number (expert adviser id) |\n| slippage | number |     | slippage in points. Should be greater or equal to zero. In not set, default value specified in account entity will be used. Slippage is ignored on position modification, order modification and order cancellation calls. Slippage is also ignored if execution mode set in symbol specification is SYMBOL\\_TRADE\\_EXECUTION\\_MARKET. |\n| fillingModes | array |     | allowed filling modes in the order of priority. Default is to allow all filling modes and prefer ORDER\\_FILLING\\_FOK over ORDER\\_FILLING\\_IOC. See [https://www.mql5.com/en/docs/constants/tradingconstants/orderproperties#enum\\_order\\_type\\_filling](https://www.mql5.com/en/docs/constants/tradingconstants/orderproperties#enum_order_type_filling) for extra explanation. |\n\n##### Examples[#](#examples_4 \"Permanent link\")\n\nExample request:\n\n`curl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' --header 'auth-token: token' -d '{ \"actionType\": \"POSITION_PARTIAL\", \"positionId\":\"46648037\", \"volume\": 0.01 }' 'https://mt-client-api-v1.new-york.agiliumtrade.ai/users/current/accounts/865d3a4d-3803-486d-bdf3-a85679d9fad2/trade'`\n\nExample response:\n\n`{   \"numericCode\": 10009,   \"stringCode\": \"TRADE_RETCODE_DONE\",   \"message\": \"Request completed\",   \"orderId\": \"47138322\",   \"positionId\": \"46648037\" }`\n\n#### POSITION\\_CLOSE\\_ID[#](#position_close_id \"Permanent link\")\n\nCloses a position fully\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| actionType | string | Yes | action type, enum: `POSITION_CLOSE_ID` |\n| positionId | string | Yes | position id |\n| comment | string |     | order comment. The sum of the line lengths of the `comment` and the `clientId` must be less than or equal to 26. For more information see [`clientId` usage](https://metaapi.cloud/docs/client/clientIdUsage/) |\n| clientId | string |     | client-assigned id. The id value will be present on history orders and history deals related to this order. You can use this field to bind your trades to objects in your application and then track trade progress. The sum of the line lengths of the `comment` and the `clientId` must be less than or equal to 26. For more information see [`clientId` usage](https://metaapi.cloud/docs/client/clientIdUsage/) |\n| magic | number |     | magic number (expert adviser id) |\n| slippage | number |     | slippage in points. Should be greater or equal to zero. In not set, default value specified in account entity will be used. Slippage is ignored on position modification, order modification and order cancellation calls. Slippage is also ignored if execution mode set in symbol specification is SYMBOL\\_TRADE\\_EXECUTION\\_MARKET. |\n| fillingModes | array |     | allowed filling modes in the order of priority. Default is to allow all filling modes and prefer ORDER\\_FILLING\\_FOK over ORDER\\_FILLING\\_IOC. See [https://www.mql5.com/en/docs/constants/tradingconstants/orderproperties#enum\\_order\\_type\\_filling](https://www.mql5.com/en/docs/constants/tradingconstants/orderproperties#enum_order_type_filling) for extra explanation. |\n\n##### Examples[#](#examples_5 \"Permanent link\")\n\nExample request:\n\n`curl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' --header 'auth-token: token' -d '{ \"actionType\": \"POSITION_CLOSE_ID\", \"positionId\":\"46648037\" }' 'https://mt-client-api-v1.new-york.agiliumtrade.ai/users/current/accounts/865d3a4d-3803-486d-bdf3-a85679d9fad2/trade'`\n\nExample response:\n\n`{   \"numericCode\": 10009,   \"stringCode\": \"TRADE_RETCODE_DONE\",   \"message\": \"Request completed\",   \"orderId\": \"47138393\",   \"positionId\": \"46648037\" }`\n\n#### POSITIONS\\_CLOSE\\_SYMBOL[#](#positions_close_symbol \"Permanent link\")\n\nClose positions by symbol\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| actionType | string | Yes | action type, enum: `POSITIONS_CLOSE_SYMBOL` |\n| symbol | string | Yes | symbol to trade |\n| comment | string |     | order comment. The sum of the line lengths of the `comment` and the `clientId` must be less than or equal to 26. For more information see [`clientId` usage](https://metaapi.cloud/docs/client/clientIdUsage/) |\n| clientId | string |     | client-assigned id. The id value will be present on history orders and history deals related to this order. You can use this field to bind your trades to objects in your application and then track trade progress. The sum of the line lengths of the `comment` and the `clientId` must be less than or equal to 26. For more information see [`clientId` usage](https://metaapi.cloud/docs/client/clientIdUsage/) |\n| magic | number |     | magic number (expert adviser id) |\n| slippage | number |     | slippage in points. Should be greater or equal to zero. In not set, default value specified in account entity will be used. Slippage is ignored on position modification, order modification and order cancellation calls. Slippage is also ignored if execution mode set in symbol specification is SYMBOL\\_TRADE\\_EXECUTION\\_MARKET. |\n| fillingModes | array |     | allowed filling modes in the order of priority. Default is to allow all filling modes and prefer ORDER\\_FILLING\\_FOK over ORDER\\_FILLING\\_IOC. See [https://www.mql5.com/en/docs/constants/tradingconstants/orderproperties#enum\\_order\\_type\\_filling](https://www.mql5.com/en/docs/constants/tradingconstants/orderproperties#enum_order_type_filling) for extra explanation. |\n\n##### Examples[#](#examples_6 \"Permanent link\")\n\nExample request:\n\n`curl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' --header 'auth-token: token' -d '{ \"actionType\": \"POSITIONS_CLOSE_SYMBOL\", \"symbol\": \"AUDNZD\" }' 'https://mt-client-api-v1.new-york.agiliumtrade.ai/users/current/accounts/865d3a4d-3803-486d-bdf3-a85679d9fad2/trade'`\n\nExample response:\n\n`{   \"numericCode\": 10009,   \"stringCode\": \"TRADE_RETCODE_DONE\",   \"message\": \"Request completed\",   \"orderId\": \"46879076\",   \"positionId\": \"46732826\" }`\n\nResponse example for an account that does not support this feature:\n\n`{   \"numericCode\": 10006,   \"stringCode\": \"TRADE_RETCODE_REJECT\",   \"message\": \"Request rejected\", }`\n\n#### POSITION\\_CLOSE\\_BY[#](#position_close_by \"Permanent link\")\n\nCloses a position by an opposite position\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| actionType | string | Yes | action type, enum: `POSITION_CLOSE_BY` |\n| positionId | string | Yes | position id |\n| closeByPositionId | string | Yes | identifier of an opposite position used for closing by order |\n| comment | string |     | order comment. The sum of the line lengths of the `comment` and the `clientId` must be less than or equal to 26. For more information see [`clientId` usage](https://metaapi.cloud/docs/client/clientIdUsage/) |\n| clientId | string |     | client-assigned id. The id value will be present on history orders and history deals related to this order. You can use this field to bind your trades to objects in your application and then track trade progress. The sum of the line lengths of the `comment` and the `clientId` must be less than or equal to 26. For more information see [`clientId` usage](https://metaapi.cloud/docs/client/clientIdUsage/) |\n| magic | number |     | magic number (expert adviser id) |\n| fillingModes | array |     | allowed filling modes in the order of priority. Default is to allow all filling modes and prefer ORDER\\_FILLING\\_FOK over ORDER\\_FILLING\\_IOC. See [https://www.mql5.com/en/docs/constants/tradingconstants/orderproperties#enum\\_order\\_type\\_filling](https://www.mql5.com/en/docs/constants/tradingconstants/orderproperties#enum_order_type_filling) for extra explanation. |\n\n##### Examples[#](#examples_7 \"Permanent link\")\n\nExample request:\n\n`curl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' --header 'auth-token: token' -d '{ \"actionType\": \"POSITION_CLOSE_ID\", \"positionId\":\"46648037\", \"closeByPositionId\":\"46648046\" }' 'https://mt-client-api-v1.new-york.agiliumtrade.ai/users/current/accounts/865d3a4d-3803-486d-bdf3-a85679d9fad2/trade'`\n\nExample response:\n\n`{   \"numericCode\": 10009,   \"stringCode\": \"TRADE_RETCODE_DONE\",   \"message\": \"Request completed\",   \"orderId\": \"47138393\",   \"positionId\": \"46648037\",   \"closeByPositionId\":\"46648046\" }`\n\n#### ORDER\\_MODIFY[#](#order_modify \"Permanent link\")\n\nModifies a pending order\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| actionType | string | Yes | action type, enum: `ORDER_MODIFY` |\n| orderId | string | Yes | order id (ticket number) |\n| openPrice | number | Yes | limit or stop price, required for a pending order, min: `0` |\n| stopLoss | number |     | stop loss price, min: `0` |\n| takeProfit | number |     | take profit price, min: `0` |\n| stopLossUnits | string |     | stop loss units. ABSOLUTE\\_PRICE means the that the value of stopLoss field is a final stop loss value. RELATIVE\\_\\* means that the stopLoss field value contains relative stop loss expressed either in price, points, pips, account currency or balance percentage. Default is ABSOLUTE\\_PRICE. enum: `ABSOLUTE_PRICE`, `RELATIVE_PRICE`, `RELATIVE_POINTS`, `RELATIVE_PIPS`, `RELATIVE_CURRENCY`, `RELATIVE_BALANCE_PERCENTAGE` |\n| takeProfitUnits | string |     | take profit units. ABSOLUTE\\_PRICE means the that the value of takeProfit field is a final take profit value. RELATIVE\\_\\* means that the takeProfit field value contains relative take profit expressed either in price, points, pips, account currency or balance percentage. Default is ABSOLUTE\\_PRICE. enum: `ABSOLUTE_PRICE`, `RELATIVE_PRICE`, `RELATIVE_POINTS`, `RELATIVE_PIPS`, `RELATIVE_CURRENCY`, `RELATIVE_BALANCE_PERCENTAGE` |\n| stopPriceBase | string |     | defined the base price to calculate SL/TP relative to for POSITION\\_MODIFY requests. STOP\\_PRICE means the SL/TP is relative to previous SL/TP value. Default is OPEN\\_PRICE. enum: `CURRENT_PRICE`, `OPEN_PRICE`, `STOP_PRICE` |\n| trailingStopLoss | [TrailingStopLoss](https://metaapi.cloud/docs/client/models/trailingStopLoss/) |     | distance trailing stop loss configuration |\n| openPriceUnits | string |     | open price units. ABSOLUTE\\_PRICE means the that the value of openPrice field is a final open price value. RELATIVE\\_\\* means that the openPrice field value contains relative open price expressed either in price, points, pips, account currency or balance percentage. Default is ABSOLUTE\\_PRICE. enum: `ABSOLUTE_PRICE`, `RELATIVE_PRICE`, `RELATIVE_POINTS`, `RELATIVE_PIPS`, `RELATIVE_CURRENCY`, `RELATIVE_BALANCE_PERCENTAGE` |\n| openPriceBase | string |     | defined the base price to calculate open price relative to for ORDER\\_MODIFY and pending order requests. Default is CURRENT\\_PRICE for pending orders or STOP\\_LIMIT\\_PRICE for stop limit orders. enum: `CURRENT_PRICE`, `OPEN_PRICE`, `STOP_LIMIT_PRICE` |\n| stopLimitPriceUnits | string |     | stop limit price units. ABSOLUTEPRICE means the that the value of stopLimitPrice field is a final stop limit price value. RELATIVE\\_\\* means that the stopLimitPrice field value contains relative stop limit price expressed either in price, points, pips, account currency or balance percentage. Default is ABSOLUTE\\_PRICE. enum: `ABSOLUTE_PRICE`, `RELATIVE_PRICE`, `RELATIVE_POINTS`, `RELATIVE_PIPS`, `RELATIVE_CURRENCY`, `RELATIVE_BALANCE_PERCENTAGE` |\n| stopLimitPriceBase | string |     | defined the base price to calculate stop limit price relative to for ORDER\\_MODIFY requests. enum: `CURRENT_PRICE`, `STOP_LIMIT_PRICE` |\n\n##### Examples[#](#examples_8 \"Permanent link\")\n\nExample request:\n\n`curl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' --header 'auth-token: token' -d '{ \"actionType\": \"ORDER_MODIFY\", \"orderId\":\"47067192\", \"openPrice\": 1.03, \"stopLoss\": 1.05 }' 'https://mt-client-api-v1.new-york.agiliumtrade.ai/users/current/accounts/865d3a4d-3803-486d-bdf3-a85679d9fad2/trade'`\n\nExample response:\n\n`{   \"numericCode\": 10009,   \"stringCode\": \"TRADE_RETCODE_DONE\",   \"message\": \"Request completed\",   \"orderId\": \"47067192\" }`\n\n#### ORDER\\_CANCEL[#](#order_cancel \"Permanent link\")\n\nCancels an order\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| actionType | string | Yes | action type, enum: `ORDER_CANCEL` |\n| orderId | string | Yes | order id (ticket number) |\n\n##### Examples[#](#examples_9 \"Permanent link\")\n\nExample request:\n\n`curl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' --header 'auth-token: token' -d '{ \"actionType\": \"ORDER_CANCEL\", \"orderId\":\"47067192\" }' 'https://mt-client-api-v1.new-york.agiliumtrade.ai/users/current/accounts/865d3a4d-3803-486d-bdf3-a85679d9fad2/trade'`\n\nExample response:\n\n`{   \"numericCode\": 10009,   \"stringCode\": \"TRADE_RETCODE_DONE\",   \"message\": \"Request completed\",   \"orderId\": \"47067192\" }`\n\n## Response[#](#response \"Permanent link\")\n\nPossible error response codes are listed [here](https://www.mql5.com/en/docs/constants/errorswarnings/enum_trade_return_codes).\n\nResponses:\n\n*   200 - Trade executed successfully for a specified MetaTrader account. Response schema: [MetatraderTradeResponse](https://metaapi.cloud/docs/client/models/metatraderTradeResponse/)\n*   400 - Payload is not valid. Response schema: [Error](https://metaapi.cloud/docs/client/models/error/)\n*   401 - Authorization failed. Response schema: [Error](https://metaapi.cloud/docs/client/models/error/)\n*   404 - MetaTrader account not found or not provisioned yet. Response schema: [Error](https://metaapi.cloud/docs/client/models/error/)"
},
{
  "markdown": "## Retrieve CPU credit usage[#](#retrieve-cpu-credit-usage \"Permanent link\")\n\n## About[#](#about \"Permanent link\")\n\nReturns information about used, available and left credits\n\n`GET /users/current/accounts/:accountId/credits`\n\nFor more information see [Swagger documentation](https://mt-client-api-v1.new-york.agiliumtrade.ai/swagger/#!/default/get_users_current_accounts_accountId_credits). Note, that this URL is valid for new-york region only. You can find URLs for other regions on [API access page](https://app.metaapi.cloud/token).\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| auth-token | string | Yes | authorization token. See [Authentication & authorization](https://metaapi.cloud/docs/client/restApi/auth/) |\n\n### Path parameters[#](#path-parameters \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| accountId | string | Yes | MetaTrader account id. You can retrieve account id from [Web application](https://app.metaapi.cloud/accounts) after you add your MetaTrader account to our platform. The account id can also be obtained via [Provisioning API](https://metaapi.cloud/docs/client/launchingApi/) |\n\nResponses:\n\n*   200 - Symbol specification returned successfully. Response schema: [CreditUsage](https://metaapi.cloud/docs/client/models/creditUsage/)\n*   401 - Authorization failed. Response schema: [Error](https://metaapi.cloud/docs/client/models/error/)\n*   404 - MetaTrader account not found or not provisioned yet or symbol is not defined for this broker. Response schema: [Error](https://metaapi.cloud/docs/client/models/error/)\n\n## Examples[#](#examples \"Permanent link\")\n\nExample request:\n\n`curl -X GET --header 'Accept: application/json' --header 'auth-token: token' 'https://mt-client-api-v1.project-stock.v3.agiliumlabs.cloud/users/current/accounts/83387573-d48c-481c-92b1-ab8471af9c20/credits'`\n\nExample response:\n\n`{   \"perAccount\": [{     \"period\": '10s',     \"total\": 1000,     \"available\": 500   }],   \"perUser\": [{     \"period\": '1s',     \"total\": 500,     \"available\": 250   }],   \"perServer\": [{     \"period\": '1m',     \"total\": 5000,     \"available\": 2500   }] }`"
},
{
  "markdown": "## WebSocket API[#](#websocket-api \"Permanent link\")\n\nMetaApi supports WebSocket API to communicate terminal state changes to a client application in real-time.\n\nPlease consult the following SDK documentation in order to understand how to consume the websocket real-time streaming API: - javascript SDK: [https://github.com/metaapi/metaapi-javascript-sdk/blob/master/docs/metaApi/streamingApi.md](https://github.com/metaapi/metaapi-javascript-sdk/blob/master/docs/metaApi/streamingApi.md) - python SDK: [https://github.com/metaapi/metaapi-python-sdk/blob/master/docs/metaApi/streamingApi.rst](https://github.com/metaapi/metaapi-python-sdk/blob/master/docs/metaApi/streamingApi.rst)"
},
{
  "markdown": "## Credit usage[#](#credit-usage \"Permanent link\")\n\n## About[#](#about \"Permanent link\")\n\nContains information about credit usage\n\n### Fields[#](#fields \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| perUser | array | Yes | the number of credits used from credits available to all deployed accounts |\n| perAccount | array | Yes | the number of credits used from credits available for one account |\n| perServer | array | Yes | the number of credits used from credits available on this server |\n\nSchema of array items\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| period | string | Yes | rate limiting period, e.g. 1s or 4m |\n| total | number | Yes | the total number of credits for the period |\n| available | number | Yes | the currently available number of credits for the period |\n\n### Example[#](#example \"Permanent link\")\n\n`{   \"perAccount\": [{     \"period\": '10s',     \"total\": 1000,     \"available\": 500   }],   \"perUser\": [{     \"period\": '1s',     \"total\": 500,     \"available\": 250   }],   \"perServer\": [{     \"period\": '1m',     \"total\": 5000,     \"available\": 2500   }] }`\n\n## Usages[#](#usages \"Permanent link\")\n\n*   [REST API - API Methods - Retrieve CPU credit usage](https://metaapi.cloud/docs/client/restApi/api/retrieveCPUCreditUsage/)"
},
{
  "markdown": "## Error[#](#error \"Permanent link\")\n\n## About[#](#about \"Permanent link\")\n\nContains an error message.\n\n### Fields[#](#fields \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| id  | integer | Yes | Error id |\n| error | string | Yes | Error name |\n| numericCode | integer |     | Numeric error code |\n| stringCode | string |     | String error code |\n| message | string | Yes | Human-readable error message |\n| details | object |     | Additional information about error. Used to supply validation error details |\n\n### Example[#](#example \"Permanent link\")\n\n`{   \"id\": 7,   \"error\": \"NotFoundError\",   \"message\": \"Account id 865d3a4d-3803-486d-bdf3-a85679d9fad2 is not found for user Mike\" }`\n\n## Usages[#](#usages \"Permanent link\")\n\nAll responses of [REST API](https://metaapi.cloud/docs/client/restApi/overview/)"
},
{
  "markdown": "## MarginOrder[#](#marginorder \"Permanent link\")\n\n## About[#](#about \"Permanent link\")\n\nContains order to calculate margin for.\n\n### Fields[#](#fields \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| symbol | string | Yes | order symbol |\n| type | string | Yes | order type, one of `ORDER_TYPE_BUY` or `ORDER_TYPE_SELL` |\n| volume | number | Yes | order volume, must be greater than 0 |\n| openPrice | number | Yes | order open price, must be greater than 0 |\n\n### Example[#](#example \"Permanent link\")\n\n`{   \"symbol\": \"EURUSD\",   \"type\": \"ORDER_TYPE_BUY\",   \"volume\": 0.1,   \"openPrice\": 1.1 }`\n\n## Usages[#](#usages \"Permanent link\")\n\n*   [REST API - API Methods - Read order book](https://metaapi.cloud/docs/client/restApi/api/calculateMargin/)"
},
{
  "markdown": "## Margin[#](#margin \"Permanent link\")\n\n## About[#](#about \"Permanent link\")\n\nMargin required to open a trade.\n\n### Fields[#](#fields \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| margin | number | Yes | margin required to open a trade. If margin can not be calculated, then this field is not defined |\n\n### Example[#](#example \"Permanent link\")\n\n## Usages[#](#usages \"Permanent link\")\n\n*   [REST API - API Methods - Read order book](https://metaapi.cloud/docs/client/restApi/api/calculateMargin/)"
},
{
  "markdown": "## About[#](#about \"Permanent link\")\n\nContains account information for a MetaTrader account\n\n### Fields[#](#fields \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| platform | string | Yes | platform id, enum: `mt4`, `mt5` |\n| broker | string | Yes | broker name |\n| currency | string | Yes | account base currency |\n| server | string | Yes | broker server name |\n| balance | number | Yes | account balance |\n| equity | number | Yes | account liquidation value |\n| margin | number | Yes | margin used |\n| freeMargin | number | Yes | free margin |\n| leverage | number | Yes | account leverage |\n| marginLevel | number |     | margin level calculated as % of equity/margin |\n| tradeAllowed | boolean | Yes | flag indicating that trading is allowed |\n| investorMode | boolean |     | flag indicating that investor password was used (supported for g2 only) |\n| marginMode | string | Yes | margin calculation mode. enum: `ACCOUNT_MARGIN_MODE_EXCHANGE`, `ACCOUNT_MARGIN_MODE_RETAIL_NETTING`, `ACCOUNT_MARGIN_MODE_RETAIL_HEDGING` |\n| name | sring | Yes | account owner name |\n| login | number | Yes | account login |\n| credit | number | Yes | account credit in the deposit currency |\n| accountCurrencyExchangeRate | number |     | current exchange rate of account currency into account base currency (USD if you did not override it) |\n| type | string | Yes | account type. enum `ACCOUNT_TRADE_MODE_DEMO`, `ACCOUNT_TRADE_MODE_CONTEST`, `ACCOUNT_TRADE_MODE_REAL` |\n\n### Example[#](#example \"Permanent link\")\n\n`{   \"broker\": \"True ECN Trading Ltd\",   \"currency\": \"USD\",   \"server\": \"ICMarketsSC-Demo\",   \"balance\": 7319.9,   \"equity\": 7306.649913200001,   \"margin\": 184.1,   \"freeMargin\": 7120.22,   \"leverage\": 100,   \"marginLevel\": 3967.58283542,   \"tradeAllowed\": true,   \"marginMode\": \"ACCOUNT_MARGIN_MODE_RETAIL_HEDGING\",   \"name\": \"Will Turner\",   \"login\": 367906877,   \"credit\": 0,   \"accountCurrencyExchangeRate\": 1,   \"type\": \"ACCOUNT_TRADE_MODE_DEMO\" }`\n\n## Usages[#](#usages \"Permanent link\")\n\n*   [REST API - API Methods - Read account information](https://metaapi.cloud/docs/client/restApi/api/readTradingTerminalState/readAccountInformation/)"
},
{
  "markdown": "## About[#](#about \"Permanent link\")\n\nContains a position\n\n### Fields[#](#fields \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| id  | string | Yes | position id (ticket) |\n| type | string | Yes | position type, enum: `POSITION_TYPE_BUY`, `POSITION_TYPE_SELL`. See [position types](https://www.mql5.com/en/docs/constants/tradingconstants/positionproperties#enum_position_type) |\n| symbol | string | Yes | position symbol |\n| magic | number | Yes | position magic number, identifies the EA which opened the position |\n| time | string(datetime) | Yes | time position was opened at, in [ISO format](https://en.wikipedia.org/wiki/ISO_8601) |\n| brokerTime | string | Yes | time position was opened at, in broker timezone, YYYY-MM-DD HH:mm:ss.SSS format |\n| updateTime | string(datetime) | Yes | last position modification time, in [ISO format](https://en.wikipedia.org/wiki/ISO_8601) |\n| openPrice | number | Yes | position open price |\n| currentPrice | number | Yes | current price |\n| currentTickValue | number | Yes | current tick value |\n| stopLoss | number |     | position stop loss price |\n| takeProfit | number |     | position take profit price |\n| trailingStopLoss | [TrailingStopLoss](https://metaapi.cloud/docs/client/models/trailingStopLoss/) |     | distance trailing stop loss configuration |\n| volume | number | Yes | position volume |\n| profit | number | Yes | position cumulative profit, including unrealized profit resulting from currently open position part (except swap and commissions) and realized profit resulting from partially closed position part and including swap and commissions |\n| realizedProfit | number | Yes | profit of the already closed part, including commissions and swap (realized and unrealized) |\n| unrealizedProfit | number | Yes | profit of the part of the position which is not yet closed, excluding swap and commissions |\n| commission | number | Yes | total position commissions, resulting both from currently open and closed position parts |\n| realizedCommission | number | Yes | position realized commission, resulting from partially closed position part |\n| unrealizedCommission | number | Yes | position unrealized commission, resulting from currently open position part |\n| swap | number | Yes | position cumulative swap, including both swap from currently open position part (unrealized swap) and swap from partially closed position part (realized swap) |\n| realizedSwap | number | Yes | swap from partially closed position part |\n| unrealizedSwap | number | Yes | swap resulting from currently open position part |\n| accountCurrencyExchangeRate | number |     | current exchange rate of account currency into account base currency (USD if you did not override it) |\n| comment | string |     | position comment. The sum of the line lengths of the `comment` and the `clientId` must be less than or equal to 26. For more information see [`clientId` usage](https://metaapi.cloud/docs/client/clientIdUsage/) |\n| clientId | string |     | client-assigned id. The id value can be assigned when submitting a trade and will be present on position, history orders and history deals related to the trade. You can use this field to bind your trades to objects in your application and then track trade progress. The sum of the line lengths of the `comment` and the `clientId` must be less than or equal to 26. For more information see [`clientId` usage](https://metaapi.cloud/docs/client/clientIdUsage/) |\n| reason | string | Yes | position opening reason. See [https://www.mql5.com/en/docs/constants/tradingconstants/positionproperties#enum\\_position\\_reason](https://www.mql5.com/en/docs/constants/tradingconstants/positionproperties#enum_position_reason) enum: `POSITION_REASON_CLIENT`, `POSITION_REASON_EXPERT`, `POSITION_REASON_MOBILE`, `POSITION_REASON_WEB`, `POSITION_REASON_UNKNOWN` |\n| brokerComment | string |     | current comment value on broker side (possibly overriden by the broker) |\n\n### Example[#](#example \"Permanent link\")\n\n`{   \"id\": \"46648037\",   \"type\": \"POSITION_TYPE_BUY\",   \"symbol\": \"AUDNZD\",   \"magic\": 1000,   \"time\": \"2020-04-17T04:30:03.223Z\",   \"brokerTime\": \"2020-04-17 07:30:03.223\",   \"openPrice\": 1.05782,   \"currentPrice\": 1.05299,   \"currentTickValue\": 0.59971,   \"stopLoss\": 0.99877,   \"volume\": 0.1,   \"swap\": -0.5,   \"profit\": -28.96846699999893,   \"updateTime\": \"2020-04-20T08:54:42.119Z\",   \"commission\": -0.5,   \"clientId\": \"AS_AUDNZD_46648037\",   \"unrealizedProfit\": -28.96599299999934,   \"realizedProfit\": -0.002473999999590859,   \"reason\": \"POSITION_REASON_EXPERT\" }`\n\n## Usages[#](#usages \"Permanent link\")\n\n*   [REST API - API Methods - Read positions](https://metaapi.cloud/docs/client/restApi/api/readTradingTerminalState/readPositions/)\n*   [REST API - API Methods - Read position by id](https://metaapi.cloud/docs/client/restApi/api/readTradingTerminalState/readPosition/)"
},
{
  "markdown": "## Metatrader order history[#](#metatrader-order-history \"Permanent link\")\n\n## About[#](#about \"Permanent link\")\n\nContains an open order or a history order (completed order)\n\n### Fields[#](#fields \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| id  | string | Yes | order id (ticket) |\n| type | string | Yes | order type, enum: `ORDER_TYPE_SELL`, `ORDER_TYPE_BUY`, `ORDER_TYPE_BUY_LIMIT`, `ORDER_TYPE_SELL_LIMIT`, `ORDER_TYPE_BUY_STOP`, `ORDER_TYPE_SELL_STOP`, `ORDER_TYPE_BUY_STOP_LIMIT`, `ORDER_TYPE_SELL_STOP_LIMIT`, `ORDER_TYPE_CLOSE_BY`. See [order types](https://www.mql5.com/en/docs/constants/tradingconstants/orderproperties#enum_order_type) |\n| state | string | Yes | order state, enum: `ORDER_STATE_STARTED`, `ORDER_STATE_PLACED`, `ORDER_STATE_CANCELED`, `ORDER_STATE_PARTIAL`, `ORDER_STATE_FILLED`, `ORDER_STATE_REJECTED`, `ORDER_STATE_EXPIRED`, `ORDER_STATE_REQUEST_ADD`, `ORDER_STATE_REQUEST_MODIFY`, `ORDER_STATE_REQUEST_CANCEL`. See [order states](https://www.mql5.com/en/docs/constants/tradingconstants/orderproperties#enum_order_state) |\n| magic | number | Yes | order magic number, identifies the EA which created the order |\n| time | string(datetime) | Yes | time order was created at, in [ISO format](https://en.wikipedia.org/wiki/ISO_8601) |\n| brokerTime | string | Yes | time order was created at, in broker timezone, YYYY-MM-DD HH:mm:ss.SSS format |\n| doneTime | string(datetime) |     | time order was executed or canceled at, in [ISO format](https://en.wikipedia.org/wiki/ISO_8601). Will be specified for completed orders only |\n| doneBrokerTime | string |     | time order was executed or canceled at, in broker timezone, YYYY-MM-DD HH:mm:ss.SSS format |\n| symbol | string | Yes | order symbol |\n| openPrice | number |     | order open price. Required for pending orders |\n| stopLimitPrice | number |     | the Limit order price for the StopLimit order |\n| currentPrice | number |     | current price. Filled for pending orders only. Not filled for history orders. |\n| stopLoss | number |     | order stop loss price |\n| takeProfit | number |     | order take profit price |\n| trailingStopLoss | [TrailingStopLoss](https://metaapi.cloud/docs/client/models/trailingStopLoss/) |     | distance trailing stop loss configuration |\n| volume | number | Yes | order requested quantity |\n| currentVolume | number | Yes | order remaining quantity, i.e. requested quantity - filled quantity |\n| positionId | string |     | order position id. Present only if the order has a position attached to it |\n| comment | string |     | order comment. The sum of the line lengths of the `comment` and the `clientId` must be less than or equal to 26. For more information see [`clientId` usage](https://metaapi.cloud/docs/client/clientIdUsage/) |\n| brokerComment | string |     | current comment value on broker side (possibly overriden by the broker) |\n| clientId | string |     | client-assigned id. The id value can be assigned when submitting a trade and will be present on position, history orders and history deals related to the trade. You can use this field to bind your trades to objects in your application and then track trade progress. The sum of the line lengths of the `comment` and the `clientId` must be less than or equal to 26. For more information see [`clientId` usage](https://metaapi.cloud/docs/client/clientIdUsage/) |\n| platform | string | Yes | platform id, enum: `mt4`, `mt5` |\n| reason | string | Yes | order opening reason. See [https://www.mql5.com/en/docs/constants/tradingconstants/orderproperties#enum\\_order\\_reason](https://www.mql5.com/en/docs/constants/tradingconstants/orderproperties#enum_order_reason). enum: `ORDER_REASON_CLIENT`, `ORDER_REASON_MOBILE`, `ORDER_REASON_WEB`, `ORDER_REASON_EXPERT`, `ORDER_REASON_SL`, `ORDER_REASON_TP`, `ORDER_REASON_SO`, `ORDER_REASON_UNKNOWN` |\n| fillingMode | string | Yes | order filling mode. See [https://www.mql5.com/en/docs/constants/tradingconstants/orderproperties#enum\\_order\\_type\\_filling](https://www.mql5.com/en/docs/constants/tradingconstants/orderproperties#enum_order_type_filling). enum: `ORDER_FILLING_FOK`, `ORDER_FILLING_IOC`, `ORDER_FILLING_RETURN` |\n| expirationType | string | Yes | order expiration type. See [https://www.mql5.com/en/docs/constants/tradingconstants/orderproperties#enum\\_order\\_type\\_time](https://www.mql5.com/en/docs/constants/tradingconstants/orderproperties#enum_order_type_time). enum: `ORDER_TIME_GTC`, `ORDER_TIME_DAY`, `ORDER_TIME_SPECIFIED`, `ORDER_TIME_SPECIFIED_DAY` |\n| expirationTime | datetime |     | order expiration time |\n| accountCurrencyExchangeRate | number |     | current exchange rate of account currency into account base currency (USD if you did not override it) |\n| closeByPositionId | string |     | identifier of an opposite position used for closing by order ORDER\\_TYPE\\_CLOSE\\_BY |\n\n### Example[#](#example \"Permanent link\")\n\n`{   \"id\": \"47067192\",   \"type\": \"ORDER_TYPE_BUY_LIMIT\",   \"state\": \"ORDER_STATE_PLACED\",   \"symbol\": \"AUDNZD\",   \"magic\": 123456,   \"time\": \"2020-04-21T07:39:18.904Z\",   \"brokerTime\": \"2020-04-21 10:39:18.904\",   \"openPrice\": 1.05235,   \"currentPrice\": 1.05335,   \"platform\": \"mt5\",   \"volume\": 0.01,   \"currentVolume\": 0.01 }`\n\n## Usages[#](#usages \"Permanent link\")\n\n*   [REST API - API Methods - Read orders](https://metaapi.cloud/docs/client/restApi/api/readTradingTerminalState/readOrders/)\n*   [REST API - API Methods - Read order by id](https://metaapi.cloud/docs/client/restApi/api/readTradingTerminalState/readOrder/)\n*   [REST API - API Methods - Read history orders by position](https://metaapi.cloud/docs/client/restApi/api/retrieveHistoricalData/readHistoryOrdersByPosition/)\n*   [REST API - API Methods - Read history orders by ticket](https://metaapi.cloud/docs/client/restApi/api/retrieveHistoricalData/readHistoryOrdersByTicket/)\n*   [REST API - API Methods - Read history orders by time range](https://metaapi.cloud/docs/client/restApi/api/retrieveHistoricalData/readHistoryOrdersByTimeRange/)"
},
{
  "markdown": "## About[#](#about \"Permanent link\")\n\nСontains a history deal\n\n### Fields[#](#fields \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| id  | string | Yes | history deal id (ticket) |\n| type | string | Yes | deal type, enum: `DEAL_TYPE_BUY`, `DEAL_TYPE_SELL`, `DEAL_TYPE_BALANCE`, `DEAL_TYPE_CREDIT`, `DEAL_TYPE_CHARGE`, `DEAL_TYPE_CORRECTION`, `DEAL_TYPE_BONUS`, `DEAL_TYPE_COMMISSION`, `DEAL_TYPE_COMMISSION_DAILY`, `DEAL_TYPE_COMMISSION_MONTHLY`, `DEAL_TYPE_COMMISSION_AGENT_DAILY`, `DEAL_TYPE_COMMISSION_AGENT_MONTHLY`, `DEAL_TYPE_INTEREST`, `DEAL_TYPE_BUY_CANCELED`, `DEAL_TYPE_SELL_CANCELED`, `DEAL_DIVIDEND`, `DEAL_DIVIDEND_FRANKED`, `DEAL_TAX`. See [deal types](https://www.mql5.com/en/docs/constants/tradingconstants/dealproperties#enum_deal_type) |\n| entryType | string |     | deal entry type, enum: `DEAL_ENTRY_IN`, `DEAL_ENTRY_OUT`, `DEAL_ENTRY_INOUT`, `DEAL_ENTRY_OUT_BY`. See [deal entries](https://www.mql5.com/en/docs/constants/tradingconstants/dealproperties#enum_deal_entry) |\n| symbol | string |     | symbol deal relates to |\n| magic | number |     | deal magic number, identifies the EA which initiated the deal |\n| time | string(datetime) | Yes | time the deal was conducted at, in [ISO format](https://en.wikipedia.org/wiki/ISO_8601) |\n| brokerTime | string | Yes | time the deal was conducted at, in broker timezone, YYYY-MM-DD HH:mm:ss.SSS format |\n| volume | number |     | deal volume |\n| price | number |     | the price the deal was conducted at |\n| commission | number |     | deal commission |\n| swap | number |     | deal swap |\n| profit | number | Yes | deal profit |\n| positionId | string |     | id of position the deal relates to |\n| orderId | string |     | id of order the deal relates to |\n| comment | string |     | deal comment. The sum of the line lengths of the `comment` and the `clientId` must be less than or equal to 26. For more information see [`clientId` usage](https://metaapi.cloud/docs/client/clientIdUsage/) |\n| brokerComment | string |     | current comment value on broker side (possibly overriden by the broker) |\n| clientId | string |     | client-assigned id. The id value can be assigned when submitting a trade and will be present on position, history orders and history deals related to the trade. You can use this field to bind your trades to objects in your application and then track trade progress. The sum of the line lengths of the `comment` and the `clientId` must be less than or equal to 26. For more information see [`clientId` usage](https://metaapi.cloud/docs/client/clientIdUsage/) |\n| platform | string | Yes | platform id, enum: `mt4`, `mt5` |\n| reason | string |     | deal execution reason. See [https://www.mql5.com/en/docs/constants/tradingconstants/dealproperties#enum\\_deal\\_reason](https://www.mql5.com/en/docs/constants/tradingconstants/dealproperties#enum_deal_reason). enum: `DEAL_REASON_CLIENT`, `DEAL_REASON_MOBILE`, `DEAL_REASON_WEB`, `DEAL_REASON_EXPERT`, `DEAL_REASON_SL`, `DEAL_REASON_TP`, `DEAL_REASON_SO`, `DEAL_REASON_ROLLOVER`, `DEAL_REASON_VMARGIN`, `DEAL_REASON_SPLIT`, `DEAL_REASON_UNKNOWN` |\n| accountCurrencyExchangeRate | number |     | current exchange rate of account currency into account base currency (USD if you did not override it) |\n| stopLoss | number |     | deal stop loss. For MT5 opening deal this is the SL of the order opening the position. For MT4 deals or MT5 closing deal this is the last known position SL. |\n| takeProfit | number |     | deal take profit. For MT5 opening deal this is the TP of the order opening the position. For MT4 deals or MT5 closing deal this is the last known position TP. |\n\n### Example[#](#example \"Permanent link\")\n\n`{   \"clientId\": \"AS_AUDNZD_3zfxXl3RvJ\",   \"commission\": -0.42,   \"entryType\": \"DEAL_ENTRY_IN\",   \"id\": \"33582357\",   \"magic\": 1000,   \"platform\": \"mt5\",   \"orderId\": \"46648037\",   \"positionId\": \"46648037\",   \"price\": 1.05782,   \"profit\": 0,   \"swap\": 0,   \"symbol\": \"AUDNZD\",   \"time\": \"2020-04-17T04:30:03.223Z\",   \"brokerTime\": \"2020-04-17 07:30:03.223\",   \"type\": \"DEAL_TYPE_BUY\",   \"volume\": 0.12 }`\n\n## Usages[#](#usages \"Permanent link\")\n\n*   [REST API - API Methods - Read deals by ticket](https://metaapi.cloud/docs/client/restApi/api/retrieveHistoricalData/readDealsByTicket/)\n*   [REST API - API Methods - Read deals by position](https://metaapi.cloud/docs/client/restApi/api/retrieveHistoricalData/readDealsByPosition/)\n*   [REST API - API Methods - Read deals by time range](https://metaapi.cloud/docs/client/restApi/api/retrieveHistoricalData/readDealsByTimeRange/)"
},
{
  "markdown": "## About[#](#about \"Permanent link\")\n\nСontains trade command result. For a trade request see [MetatraderTrade](https://metaapi.cloud/docs/client/models/metatraderTrade/)\n\n### Fields[#](#fields \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| numericCode | number | Yes | numeric result code, see [MT5 Trade return сodes](https://www.mql5.com/en/docs/constants/errorswarnings/enum_trade_return_codes) and [MT4 Trade return сodes](https://book.mql4.com/appendix/errors). Response codes which indicate success are 0, 10008-10010, 10025. The rest codes are errors. |\n| stringCode | string | Yes | machine-readable string result code, see [MT5 Trade return сodes](https://www.mql5.com/en/docs/constants/errorswarnings/enum_trade_return_codes) and [MT4 Trade return сodes](https://book.mql4.com/appendix/errors). Response codes which indicate success are `ERR_NO_ERROR`, `TRADE_RETCODE_PLACED`, `TRADE_RETCODE_DONE`, `TRADE_RETCODE_DONE_PARTIAL`, `TRADE_RETCODE_NO_CHANGES`. The rest codes are errors. |\n| message | string | Yes | human-readable error or result message |\n| orderId | string |     | id of the order created or modified by the trade |\n| positionId | number |     | id of the position created or modified by the trade |\n\n### Example[#](#example \"Permanent link\")\n\n`{   \"numericCode\": 10009,   \"stringCode\": \"TRADE_RETCODE_DONE\",   \"message\": \"Request completed\",   \"orderId\": 47138322,   \"positionId\": 46648037 }`\n\n## MT5 Error codes description[#](#mt5-error-codes-description \"Permanent link\")\n\n| Code | Constant | Description |\n| --- | --- | --- |\n| \\-9 | ERR\\_PIP\\_SIZE\\_NOT\\_DEFINED | Pip size is not defined |\n| \\-8 | ERR\\_INVESTOR | Trading is not allowed with investor password |\n| \\-7 | ERR\\_TRADE\\_TIMED\\_OUT | Trade timed out |\n| \\-6 | ERR\\_NO\\_QUOTES | Failed to retrieve quotes for trading |\n| \\-5 | ERR\\_NOT\\_SYNCHRONIZED | Server-side synchronization required |\n| \\-4 | TRADE\\_RETCODE\\_ORDER\\_TYPE\\_NOT\\_SUPPORTED | Order type not supported |\n| \\-1 | TRADE\\_RETCODE\\_UNKNOWN | Unknown trade return code |\n| 4753 | ERR\\_TRADE\\_POSITION\\_NOT\\_FOUND | Position not found |\n| 4754 | ERR\\_TRADE\\_ORDER\\_NOT\\_FOUND | Order not found |\n| 10004 | TRADE\\_RETCODE\\_REQUOTE | Requote |\n| 10006 | TRADE\\_RETCODE\\_REJECT | Request rejected |\n| 10007 | TRADE\\_RETCODE\\_CANCEL | Request canceled by trader |\n| 10008 | TRADE\\_RETCODE\\_PLACED | Order placed |\n| 10009 | TRADE\\_RETCODE\\_DONE | Request completed |\n| 10010 | TRADE\\_RETCODE\\_DONE\\_PARTIAL | Only part of the request was completed |\n| 10011 | TRADE\\_RETCODE\\_ERROR | Request processing error |\n| 10012 | TRADE\\_RETCODE\\_TIMEOUT | Request canceled by timeout |\n| 10013 | TRADE\\_RETCODE\\_INVALID | Invalid request |\n| 10014 | TRADE\\_RETCODE\\_INVALID\\_VOLUME | Invalid volume in the request |\n| 10015 | TRADE\\_RETCODE\\_INVALID\\_PRICE | Invalid price in the request |\n| 10016 | TRADE\\_RETCODE\\_INVALID\\_STOPS | Invalid stops in the request |\n| 10017 | TRADE\\_RETCODE\\_TRADE\\_DISABLED | Trade is disabled |\n| 10018 | TRADE\\_RETCODE\\_MARKET\\_CLOSED | Market is closed |\n| 10019 | TRADE\\_RETCODE\\_NO\\_MONEY | There is not enough money to complete the request |\n| 10020 | TRADE\\_RETCODE\\_PRICE\\_CHANGED | Prices changed |\n| 10021 | TRADE\\_RETCODE\\_PRICE\\_OFF | There are no quotes to process the request |\n| 10022 | TRADE\\_RETCODE\\_INVALID\\_EXPIRATION | Invalid order expiration date in the request |\n| 10023 | TRADE\\_RETCODE\\_ORDER\\_CHANGED | Order state changed |\n| 10024 | TRADE\\_RETCODE\\_TOO\\_MANY\\_REQUESTS | Too frequent requests |\n| 10025 | TRADE\\_RETCODE\\_NO\\_CHANGES | No changes in request |\n| 10026 | TRADE\\_RETCODE\\_SERVER\\_DISABLES\\_AT | Autotrading disabled by server |\n| 10027 | TRADE\\_RETCODE\\_CLIENT\\_DISABLES\\_AT | Autotrading disabled by client terminal |\n| 10028 | TRADE\\_RETCODE\\_LOCKED | Request locked for processing |\n| 10029 | TRADE\\_RETCODE\\_FROZEN | Order or position frozen |\n| 10030 | TRADE\\_RETCODE\\_INVALID\\_FILL | Invalid order filling type |\n| 10031 | TRADE\\_RETCODE\\_CONNECTION | No connection with the trade server |\n| 10032 | TRADE\\_RETCODE\\_ONLY\\_REAL | Operation is allowed only for live accounts |\n| 10033 | TRADE\\_RETCODE\\_LIMIT\\_ORDERS | The number of pending orders has reached the limit |\n| 10034 | TRADE\\_RETCODE\\_LIMIT\\_VOLUME | The volume of orders and positions for the symbol has reached the limit |\n| 10035 | TRADE\\_RETCODE\\_INVALID\\_ORDER | Incorrect or prohibited order type |\n| 10036 | TRADE\\_RETCODE\\_POSITION\\_CLOSED | Position with the specified POSITION\\_IDENTIFIER has already been closed |\n| 10038 | TRADE\\_RETCODE\\_INVALID\\_CLOSE\\_VOLUME | A close volume exceeds the current position volume |\n| 10039 | TRADE\\_RETCODE\\_CLOSE\\_ORDER\\_EXIST | A close order already exists for a specified position. This may happen when working in the hedging system:<br><br>*   when attempting to close a position with an opposite one, while close orders for the position already exist<br>*   when attempting to fully or partially close a position if the total volume of the already present close orders and the newly placed one exceeds the current position volume |\n| 10040 | TRADE\\_RETCODE\\_LIMIT\\_POSITIONS | The number of open positions simultaneously present on an account can be limited by the server settings. After a limit is reached, the server returns the TRADE\\_RETCODE\\_LIMIT\\_POSITIONS error when attempting to place an order. The limitation operates differently depending on the position accounting type:<br><br>*   Netting — number of open positions is considered. When a limit is reached, the platform does not let placing new orders whose execution may increase the number of open positions. In fact, the platform allows placing orders only for the symbols that already have open positions. The current pending orders are not considered since their execution may lead to changes in the current positions but it cannot increase their number.<br>*   Hedging — pending orders are considered together with open positions, since a pending order activation always leads to opening a new position. When a limit is reached, the platform does not allow placing both new market orders for opening positions and pending orders. |\n| 10041 | TRADE\\_RETCODE\\_REJECT\\_CANCEL | The pending order activation request is rejected, the order is canceled |\n| 10042 | TRADE\\_RETCODE\\_LONG\\_ONLY | The request is rejected, because the \"Only long positions are allowed\" rule is set for the symbol (POSITION\\_TYPE\\_BUY) |\n| 10043 | TRADE\\_RETCODE\\_SHORT\\_ONLY | The request is rejected, because the \"Only short positions are allowed\" rule is set for the symbol (POSITION\\_TYPE\\_SELL) |\n| 10044 | TRADE\\_RETCODE\\_CLOSE\\_ONLY | The request is rejected, because the \"Only position closing is allowed\" rule is set for the symbol |\n| 10045 | TRADE\\_RETCODE\\_FIFO\\_CLOSE | The request is rejected, because \"Position closing is allowed only by FIFO rule\" flag is set for the trading account (ACCOUNT\\_FIFO\\_CLOSE=true) |\n\n## MT4 Error codes description[#](#mt4-error-codes-description \"Permanent link\")\n\n| Code | Constant | Description |\n| --- | --- | --- |\n| \\-9 | ERR\\_PIP\\_SIZE\\_NOT\\_DEFINED | Pip size is not defined |\n| \\-8 | ERR\\_INVESTOR | Trading is not allowed with investor password |\n| \\-7 | ERR\\_TRADE\\_TIMED\\_OUT | Trade timed out |\n| \\-6 | ERR\\_NO\\_QUOTES | Failed to retrieve quotes for trading |\n| \\-5 | ERR\\_NOT\\_SYNCHRONIZED | Server-side synchronization required |\n| \\-4 | ERR\\_ORDER\\_TYPE\\_NOT\\_SUPPORTED | Order type not supported |\n| \\-3 | ERR\\_ORDER\\_NOT\\_FOUND | Order not found |\n| \\-2 | ERR\\_POSITION\\_NOT\\_FOUND | Position not found |\n| \\-1 | TRADE\\_RETCODE\\_UNKNOWN | Unknown trade return code |\n| 0   | ERR\\_NO\\_ERROR | No error returned |\n| 1   | ERR\\_NO\\_RESULT | No error returned, but the result is unknown |\n| 2   | ERR\\_COMMON\\_ERROR | Common error |\n| 3   | ERR\\_INVALID\\_TRADE\\_PARAMETERS | Invalid trade parameters |\n| 4   | ERR\\_SERVER\\_BUSY | Trade server is busy |\n| 5   | ERR\\_OLD\\_VERSION | Old version of the client terminal |\n| 6   | ERR\\_NO\\_CONNECTION | No connection with trade server |\n| 7   | ERR\\_NOT\\_ENOUGH\\_RIGHTS | Not enough rights |\n| 8   | ERR\\_TOO\\_FREQUENT\\_REQUESTS | Too frequent requests |\n| 9   | ERR\\_MALFUNCTIONAL\\_TRADE | Malfunctional trade operation |\n| 64  | ERR\\_ACCOUNT\\_DISABLED | Account disabled |\n| 65  | ERR\\_INVALID\\_ACCOUNT | Invalid account |\n| 128 | ERR\\_TRADE\\_TIMEOUT | Trade timeout |\n| 129 | ERR\\_INVALID\\_PRICE | Invalid price |\n| 130 | ERR\\_INVALID\\_STOPS | Invalid stops |\n| 131 | ERR\\_INVALID\\_TRADE\\_VOLUME | Invalid trade volume |\n| 132 | ERR\\_MARKET\\_CLOSED | Market is closed |\n| 133 | ERR\\_TRADE\\_DISABLED | Trade is disabled |\n| 134 | ERR\\_NOT\\_ENOUGH\\_MONEY | Not enough money |\n| 135 | ERR\\_PRICE\\_CHANGED | Price changed |\n| 136 | ERR\\_OFF\\_QUOTES | Off quotes |\n| 137 | ERR\\_BROKER\\_BUSY | Broker is busy |\n| 138 | ERR\\_REQUOTE | Requote |\n| 139 | ERR\\_ORDER\\_LOCKED | Order is locked |\n| 140 | ERR\\_LONG\\_POSITIONS\\_ONLY\\_ALLOWED | Long positions only allowed |\n| 141 | ERR\\_TOO\\_MANY\\_REQUESTS | Too many requests |\n| 145 | ERR\\_TRADE\\_MODIFY\\_DENIED | Modification denied because an order is too close to market |\n| 146 | ERR\\_TRADE\\_CONTEXT\\_BUSY | Trade context is busy |\n| 147 | ERR\\_TRADE\\_EXPIRATION\\_DENIED | Expirations are denied by broker |\n| 148 | ERR\\_TRADE\\_TOO\\_MANY\\_ORDERS | The amount of opened and pending orders has reached the limit set by a broker |\n| 4108 | ERR\\_INVALID\\_TICKET | Invalid ticket |\n\n## Usages[#](#usages \"Permanent link\")\n\n*   [REST API - API Methods - Trade](https://metaapi.cloud/docs/client/restApi/api/trade/)"
},
{
  "markdown": "## About[#](#about \"Permanent link\")\n\nContains trade command.\n\n### Fields[#](#fields \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| symbol | string |     | symbol to trade |\n| actionType | string | Yes | action type, enum: `ORDER_TYPE_SELL`, `ORDER_TYPE_BUY`, `ORDER_TYPE_BUY_LIMIT`, `ORDER_TYPE_SELL_LIMIT`,`ORDER_TYPE_BUY_STOP`, `ORDER_TYPE_SELL_STOP`, `POSITION_MODIFY`, `POSITION_PARTIAL`, `POSITION_CLOSE_ID`,`POSITIONS_CLOSE_SYMBOL`, `ORDER_MODIFY`, `ORDER_CANCEL`, `POSITION_CLOSE_BY`, `ORDER_TYPE_BUY_STOP_LIMIT`, `ORDER_TYPE_SELL_STOP_LIMIT`. |\n| volume | number |     | order volume |\n| openPrice | number |     | order limit or stop price |\n| stopLimitPrice | string |     | optional price at which the StopLimit order will be placed. Required for stop limit orders |\n| stopLoss | number |     | stop loss price |\n| takeProfit | number |     | take profit price |\n| stopLossUnits | string |     | stop loss units. ABSOLUTE\\_PRICE means the that the value of stopLoss field is a final stop loss value. RELATIVE\\_\\* means that the stopLoss field value contains relative stop loss expressed either in price, points, pips, account currency or balance percentage. Default is ABSOLUTE\\_PRICE. enum: `ABSOLUTE_PRICE`, `RELATIVE_PRICE`, `RELATIVE_POINTS`, `RELATIVE_PIPS`, `RELATIVE_CURRENCY`, `RELATIVE_BALANCE_PERCENTAGE` |\n| takeProfitUnits | string |     | take profit units. ABSOLUTE\\_PRICE means the that the value of takeProfit field is a final take profit value. RELATIVE\\_\\* means that the takeProfit field value contains relative take profit expressed either in price, points, pips, account currency or balance percentage. Default is ABSOLUTE\\_PRICE. enum: `ABSOLUTE_PRICE`, `RELATIVE_PRICE`, `RELATIVE_POINTS`, `RELATIVE_PIPS`, `RELATIVE_CURRENCY`, `RELATIVE_BALANCE_PERCENTAGE` |\n| stopPriceBase | string |     | defined the base price to calculate SL/TP relative to for \\*\\_MODIFY and pending order requests. Default is OPEN\\_PRICE. enum: `CURRENT_PRICE`, `OPEN_PRICE`, `STOP_PRICE` |\n| openPriceUnits | string |     | open price units. ABSOLUTE\\_PRICE means the that the value of openPrice field is a final open price value. RELATIVE\\_\\* means that the openPrice field value contains relative open price expressed either in price, points, pips, account currency or balance percentage. Default is ABSOLUTE\\_PRICE. enum: `ABSOLUTE_PRICE`, `RELATIVE_PRICE`, `RELATIVE_POINTS`, `RELATIVE_PIPS`, `RELATIVE_CURRENCY`, `RELATIVE_BALANCE_PERCENTAGE` |\n| openPriceBase | string |     | defined the base price to calculate open price relative to for ORDER\\_MODIFY and pending order requests. Default is CURRENT\\_PRICE for pending orders or STOP\\_LIMIT\\_PRICE for stop limit orders. enum: `CURRENT_PRICE`, `OPEN_PRICE`, `STOP_LIMIT_PRICE` |\n| stopLimitPriceUnits | string |     | stop limit price units. ABSOLUTEPRICE means the that the value of stopLimitPrice field is a final stop limit price value. RELATIVE\\_\\* means that the stopLimitPrice field value contains relative stop limit price expressed either in price, points, pips, account currency or balance percentage. Default is ABSOLUTE\\_PRICE. enum: `ABSOLUTE_PRICE`, `RELATIVE_PRICE`, `RELATIVE_POINTS`, `RELATIVE_PIPS`, `RELATIVE_CURRENCY`, `RELATIVE_BALANCE_PERCENTAGE` |\n| stopLimitPriceBase | string |     | defined the base price to calculate stop limit price relative to for ORDER\\_MODIFY requests. enum: `CURRENT_PRICE`, `STOP_LIMIT_PRICE` |\n| trailingStopLoss | [TrailingStopLoss](https://metaapi.cloud/docs/client/models/trailingStopLoss/) |     | distance trailing stop loss configuration |\n| orderId | string |     | order id, must be specified for order modification commands |\n| positionId | string |     | position id, must be specified for position modification commands |\n| closeByPositionId | string |     | identifier of an opposite position used for closing by order, required in case actionType is POSITION\\_CLOSE\\_BY |\n| comment | string |     | order comment. The sum of the line lengths of the `comment` and the `clientId` must be less than or equal to 26. For more information see [`clientId` usage](https://metaapi.cloud/docs/client/clientIdUsage/) |\n| clientId | string |     | client-assigned id. The id value can be assigned when submitting a trade and will be present on position, history orders and history deals related to the trade. You can use this field to bind your trades to objects in your application and then track trade progress. The sum of the line lengths of the `comment` and the `clientId` must be less than or equal to 26. For more information see [`clientId` usage](https://metaapi.cloud/docs/client/clientIdUsage/) |\n| magic | number |     | magic number (expert adviser id) |\n| slippage | number |     | slippage in points. Should be greater or equal to zero. In not set, default value specified in account entity will be used. Slippage is ignored on position modification, order modification and order cancellation calls. Slippage is also ignored if execution mode set in symbol specification is SYMBOL\\_TRADE\\_EXECUTION\\_MARKET. |\n| fillingModes | array |     | allowed filling modes in the order of priority. Default is to allow all filling modes and prefer ORDER\\_FILLING\\_FOK over ORDER\\_FILLING\\_IOC. See [https://www.mql5.com/en/docs/constants/tradingconstants/orderproperties#enum\\_order\\_type\\_filling](https://www.mql5.com/en/docs/constants/tradingconstants/orderproperties#enum_order_type_filling) for extra explanation. |\n| expiration | object |     | pending order expiration settings. See Pending order expiration settings section. |\n\n#### Pending order expiration settings[#](#pending-order-expiration-settings \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| type | string | Yes | pending order expiration type. See https://www.mql5.com/en/docs/constants/tradingconstants/orderproperties#enum\\_order\\_type\\_time for the list of possible options. MetaTrader4 platform supports only ORDER\\_TIME\\_SPECIFIED expiration type. enum: `ORDER_TIME_GTC`, `ORDER_TIME_DAY`, `ORDER_TIME_SPECIFIED`, `ORDER_TIME_SPECIFIED_DAY`. |\n| time | datetime |     | pending order expiration time. Ignored if expiration type is not one of ORDER\\_TIME\\_DAY or ORDER\\_TIME\\_SPECIFIED |\n\nThe following describes schemas for each type of command.\n\n#### ORDER\\_TYPE\\_SELL or ORDER\\_TYPE\\_BUY[#](#order_type_sell-or-order_type_buy \"Permanent link\")\n\nSubmits market order to the trading terminal\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| actionType | string | Yes | action type, enum: `ORDER_TYPE_SELL`, `ORDER_TYPE_BUY` |\n| symbol | string | Yes | symbol to trade |\n| volume | number | Yes | order volume, min: `0` |\n| stopLoss | number |     | stop loss price, min: `0` |\n| takeProfit | number |     | take profit price, min: `0` |\n| stopLossUnits | string |     | stop loss units. ABSOLUTE\\_PRICE means the that the value of stopLoss field is a final stop loss value. RELATIVE\\_\\* means that the stopLoss field value contains relative stop loss expressed either in price, points, pips, account currency or balance percentage. Default is ABSOLUTE\\_PRICE. enum: `ABSOLUTE_PRICE`, `RELATIVE_PRICE`, `RELATIVE_POINTS`, `RELATIVE_PIPS`, `RELATIVE_CURRENCY`, `RELATIVE_BALANCE_PERCENTAGE` |\n| takeProfitUnits | string |     | take profit units. ABSOLUTE\\_PRICE means the that the value of takeProfit field is a final take profit value. RELATIVE\\_\\* means that the takeProfit field value contains relative take profit expressed either in price, points, pips, account currency or balance percentage. Default is ABSOLUTE\\_PRICE. enum: `ABSOLUTE_PRICE`, `RELATIVE_PRICE`, `RELATIVE_POINTS`, `RELATIVE_PIPS`, `RELATIVE_CURRENCY`, `RELATIVE_BALANCE_PERCENTAGE` |\n| trailingStopLoss | [TrailingStopLoss](https://metaapi.cloud/docs/client/models/trailingStopLoss/) |     | distance trailing stop loss configuration |\n| stopPriceBase | string |     | defined the base price to calculate SL/TP relative to for pending order requests. Default is CURRENT\\_PRICE. enum: `CURRENT_PRICE` |\n| comment | string |     | order comment. The sum of the line lengths of the `comment` and the `clientId` must be less than or equal to 26. For more information see [`clientId` usage](https://metaapi.cloud/docs/client/clientIdUsage/) |\n| clientId | string |     | client-assigned id. The id value will be present on position, history orders and history deals related to this order. You can use this field to bind your trades to objects in your application and then track trade progress. The sum of the line lengths of the `comment` and the `clientId` must be less than or equal to 26. For more information see [`clientId` usage](https://metaapi.cloud/docs/client/clientIdUsage/) |\n| magic | number |     | magic number (expert adviser id) |\n| slippage | number |     | slippage in points. Should be greater or equal to zero. In not set, default value specified in account entity will be used. Slippage is ignored on position modification, order modification and order cancellation calls. Slippage is also ignored if execution mode set in symbol specification is SYMBOL\\_TRADE\\_EXECUTION\\_MARKET. |\n| fillingModes | array |     | allowed filling modes in the order of priority. Default is to allow all filling modes and prefer ORDER\\_FILLING\\_FOK over ORDER\\_FILLING\\_IOC. See [https://www.mql5.com/en/docs/constants/tradingconstants/orderproperties#enum\\_order\\_type\\_filling](https://www.mql5.com/en/docs/constants/tradingconstants/orderproperties#enum_order_type_filling) for extra explanation. |\n\n##### Examples[#](#examples \"Permanent link\")\n\n`{   \"actionType\": \"ORDER_TYPE_SELL\",   \"symbol\":\"AUDNZD\",   \"volume\": 0.01,   \"takeProfit\": 1.03 }`\n\n#### ORDER\\_TYPE\\_BUY\\_LIMIT or ORDER\\_TYPE\\_SELL\\_LIMIT or ORDER\\_TYPE\\_BUY\\_STOP or ORDER\\_TYPE\\_SELL\\_STOP[#](#order_type_buy_limit-or-order_type_sell_limit-or-order_type_buy_stop-or-order_type_sell_stop \"Permanent link\")\n\nSubmits pending order to the trading terminal\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| actionType | string | Yes | action type, enum: `ORDER_TYPE_BUY_LIMIT`, `ORDER_TYPE_SELL_LIMIT`, `ORDER_TYPE_BUY_STOP`, `ORDER_TYPE_SELL_STOP` |\n| symbol | string | Yes | symbol to trade |\n| volume | number | Yes | order volume, min: `0` |\n| openPrice | number | Yes | order limit or stop price, min: `0` |\n| stopLoss | number |     | stop loss price, min: `0` |\n| takeProfit | number |     | take profit price, min: `0` |\n| stopLossUnits | string |     | stop loss units. ABSOLUTE\\_PRICE means the that the value of stopLoss field is a final stop loss value. RELATIVE\\_\\* means that the stopLoss field value contains relative stop loss expressed either in price, points, pips, account currency or balance percentage. Default is ABSOLUTE\\_PRICE. enum: `ABSOLUTE_PRICE`, `RELATIVE_PRICE`, `RELATIVE_POINTS`, `RELATIVE_PIPS`, `RELATIVE_CURRENCY`, `RELATIVE_BALANCE_PERCENTAGE` |\n| takeProfitUnits | string |     | take profit units. ABSOLUTE\\_PRICE means the that the value of takeProfit field is a final take profit value. RELATIVE\\_\\* means that the takeProfit field value contains relative take profit expressed either in price, points, pips, account currency or balance percentage. Default is ABSOLUTE\\_PRICE. enum: `ABSOLUTE_PRICE`, `RELATIVE_PRICE`, `RELATIVE_POINTS`, `RELATIVE_PIPS`, `RELATIVE_CURRENCY`, `RELATIVE_BALANCE_PERCENTAGE` |\n| stopPriceBase | string |     | defined the base price to calculate SL/TP relative to for \\*\\_MODIFY and pending order requests. Default is OPEN\\_PRICE. enum: `CURRENT_PRICE`, `OPEN_PRICE` |\n| trailingStopLoss | [TrailingStopLoss](https://metaapi.cloud/docs/client/models/trailingStopLoss/) |     | distance trailing stop loss configuration |\n| openPriceUnits | string |     | open price units. ABSOLUTE\\_PRICE means the that the value of openPrice field is a final open price value. RELATIVE\\_\\* means that the openPrice field value contains relative open price expressed either in price, points, pips, account currency or balance percentage. Default is ABSOLUTE\\_PRICE. enum: `ABSOLUTE_PRICE`, `RELATIVE_PRICE`, `RELATIVE_POINTS`, `RELATIVE_PIPS`, `RELATIVE_CURRENCY`, `RELATIVE_BALANCE_PERCENTAGE` |\n| comment | string |     | order comment. The sum of the line lengths of the `comment` and the `clientId` must be less than or equal to 26. For more information see [`clientId` usage](https://metaapi.cloud/docs/client/clientIdUsage/) |\n| clientId | string |     | client-assigned id. The id value will be present on position, history orders and history deals related to this order. You can use this field to bind your trades to objects in your application and then track trade progress. The sum of the line lengths of the `comment` and the `clientId` must be less than or equal to 26. For more information see [`clientId` usage](https://metaapi.cloud/docs/client/clientIdUsage/) |\n| magic | number |     | magic number (expert adviser id) |\n| slippage | number |     | slippage in points. Should be greater or equal to zero. In not set, default value specified in account entity will be used. Slippage is ignored on position modification, order modification and order cancellation calls. Slippage is also ignored if execution mode set in symbol specification is SYMBOL\\_TRADE\\_EXECUTION\\_MARKET. |\n| expiration | object |     | pending order expiration settings. See Pending order expiration settings section. |\n\n##### Examples[#](#examples_1 \"Permanent link\")\n\n`{   \"actionType\": \"ORDER_TYPE_BUY_LIMIT\",   \"symbol\":\"AUDNZD\",   \"volume\": 0.01,   \"openPrice\": 1.03 }`\n\n#### ORDER\\_TYPE\\_BUY\\_STOP\\_LIMIT or ORDER\\_TYPE\\_SELL\\_STOP\\_LIMIT[#](#order_type_buy_stop_limit-or-order_type_sell_stop_limit \"Permanent link\")\n\nSubmits pending stop limit order to the trading terminal\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| actionType | string | Yes | action type, enum: `ORDER_TYPE_BUY_STOP_LIMIT`, `ORDER_TYPE_SELL_STOP_LIMIT` |\n| symbol | string | Yes | symbol to trade |\n| volume | number | Yes | order volume, min: `0` |\n| openPrice | number | Yes | order limit or stop price, min: `0` |\n| stopLimitPrice | string | Yes | price at which the StopLimit order will be placed, min: `0` |\n| stopLoss | number |     | stop loss price, min: `0` |\n| takeProfit | number |     | take profit price, min: `0` |\n| stopLossUnits | string |     | stop loss units. ABSOLUTE\\_PRICE means the that the value of stopLoss field is a final stop loss value. RELATIVE\\_\\* means that the stopLoss field value contains relative stop loss expressed either in price, points, pips, account currency or balance percentage. Default is ABSOLUTE\\_PRICE. enum: `ABSOLUTE_PRICE`, `RELATIVE_PRICE`, `RELATIVE_POINTS`, `RELATIVE_PIPS`, `RELATIVE_CURRENCY`, `RELATIVE_BALANCE_PERCENTAGE` |\n| takeProfitUnits | string |     | take profit units. ABSOLUTE\\_PRICE means the that the value of takeProfit field is a final take profit value. RELATIVE\\_\\* means that the takeProfit field value contains relative take profit expressed either in price, points, pips, account currency or balance percentage. Default is ABSOLUTE\\_PRICE. enum: `ABSOLUTE_PRICE`, `RELATIVE_PRICE`, `RELATIVE_POINTS`, `RELATIVE_PIPS`, `RELATIVE_CURRENCY`, `RELATIVE_BALANCE_PERCENTAGE` |\n| stopPriceBase | string |     | defined the base price to calculate SL/TP relative to for \\*\\_MODIFY and pending order requests. Default is OPEN\\_PRICE. enum: `CURRENT_PRICE`, `OPEN_PRICE` |\n| trailingStopLoss | [TrailingStopLoss](https://metaapi.cloud/docs/client/models/trailingStopLoss/) |     | distance trailing stop loss configuration |\n| openPriceBase | string |     | defined the base price to calculate open price relative to for ORDER\\_MODIFY and pending order requests. Default is CURRENT\\_PRICE for pending orders or STOP\\_LIMIT\\_PRICE for stop limit orders. enum: `CURRENT_PRICE`, `STOP_LIMIT_PRICE` |\n| openPriceUnits | string |     | open price units. ABSOLUTE\\_PRICE means the that the value of openPrice field is a final open price value. RELATIVE\\_\\* means that the openPrice field value contains relative open price expressed either in price, points, pips, account currency or balance percentage. Default is ABSOLUTE\\_PRICE. enum: `ABSOLUTE_PRICE`, `RELATIVE_PRICE`, `RELATIVE_POINTS`, `RELATIVE_PIPS`, `RELATIVE_CURRENCY`, `RELATIVE_BALANCE_PERCENTAGE` |\n| stopLimitPriceUnits | string |     | stop limit price units. ABSOLUTE\\_PRICE means the that the value of stopLimitPrice field is a final stop limit price value. RELATIVE\\_\\* means that the stopLimitPrice field value contains relative stop limit price expressed either in price, points, pips, account currency or balance percentage. Default is ABSOLUTE\\_PRICE. enum: `ABSOLUTE_PRICE`, `RELATIVE_PRICE`, `RELATIVE_POINTS`, `RELATIVE_PIPS`, `RELATIVE_CURRENCY`, `RELATIVE_BALANCE_PERCENTAGE` |\n| comment | string |     | order comment. The sum of the line lengths of the `comment` and the `clientId` must be less than or equal to 26. For more information see [`clientId` usage](https://metaapi.cloud/docs/client/clientIdUsage/) |\n| clientId | string |     | client-assigned id. The id value will be present on position, history orders and history deals related to this order. You can use this field to bind your trades to objects in your application and then track trade progress. The sum of the line lengths of the `comment` and the `clientId` must be less than or equal to 26. For more information see [`clientId` usage](https://metaapi.cloud/docs/client/clientIdUsage/) |\n| magic | number |     | magic number (expert adviser id) |\n| slippage | number |     | slippage in points. Should be greater or equal to zero. In not set, default value specified in account entity will be used. Slippage is ignored on position modification, order modification and order cancellation calls. Slippage is also ignored if execution mode set in symbol specification is SYMBOL\\_TRADE\\_EXECUTION\\_MARKET. |\n| expiration | object |     | pending order expiration settings. See Pending order expiration settings section. |\n\n##### Examples[#](#examples_2 \"Permanent link\")\n\n`{   \"actionType\": \"ORDER_TYPE_BUY_STOP_LIMIT\",   \"symbol\":\"AUDNZD\",   \"volume\": 0.01,   \"openPrice\": 1.03,   \"stopLimitPrice\": 1.01 }`\n\n#### POSITION\\_MODIFY[#](#position_modify \"Permanent link\")\n\nModifies a position TP/SL price\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| actionType | string | Yes | action type, enum: `POSITION_MODIFY` |\n| positionId | string | Yes | position id (ticket number) |\n| stopLoss | number |     | stop loss price, min: `0` |\n| takeProfit | number |     | take profit price, min: `0` |\n| stopLossUnits | string |     | stop loss units. ABSOLUTE\\_PRICE means the that the value of stopLoss field is a final stop loss value. RELATIVE\\_\\* means that the stopLoss field value contains relative stop loss expressed either in price, points, pips, account currency or balance percentage. Default is ABSOLUTE\\_PRICE. enum: `ABSOLUTE_PRICE`, `RELATIVE_PRICE`, `RELATIVE_POINTS`, `RELATIVE_PIPS`, `RELATIVE_CURRENCY`, `RELATIVE_BALANCE_PERCENTAGE` |\n| takeProfitUnits | string |     | take profit units. ABSOLUTE\\_PRICE means the that the value of takeProfit field is a final take profit value. RELATIVE\\_\\* means that the takeProfit field value contains relative take profit expressed either in price, points, pips, account currency or balance percentage. Default is ABSOLUTE\\_PRICE. enum: `ABSOLUTE_PRICE`, `RELATIVE_PRICE`, `RELATIVE_POINTS`, `RELATIVE_PIPS`, `RELATIVE_CURRENCY`, `RELATIVE_BALANCE_PERCENTAGE` |\n| stopPriceBase | string |     | defined the base price to calculate SL/TP relative to for POSITION\\_MODIFY requests. STOP\\_PRICE means the SL/TP is relative to previous SL/TP value. Default is OPEN\\_PRICE. enum: `CURRENT_PRICE`, `OPEN_PRICE`, `STOP_PRICE` |\n| trailingStopLoss | [TrailingStopLoss](https://metaapi.cloud/docs/client/models/trailingStopLoss/) |     | distance trailing stop loss configuration |\n\n##### Examples[#](#examples_3 \"Permanent link\")\n\n`{   \"actionType\": \"POSITION_MODIFY\",   \"positionId\":\"46648037\",   \"takeProfit\": 1.06 }`\n\n#### POSITION\\_PARTIAL[#](#position_partial \"Permanent link\")\n\nPartially closes a position\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| actionType | string | Yes | action type, enum: `POSITION_PARTIAL` |\n| positionId | string | Yes | position id |\n| volume | number | Yes | volume to close, min: `0` |\n| comment | string |     | order comment. The sum of the line lengths of the `comment` and the `clientId` must be less than or equal to 26. For more information see [`clientId` usage](https://metaapi.cloud/docs/client/clientIdUsage/) |\n| clientId | string |     | client-assigned id. The id value will be present on history orders and history deals related to this order. You can use this field to bind your trades to objects in your application and then track trade progress. The sum of the line lengths of the `comment` and the `clientId` must be less than or equal to 26. For more information see [`clientId` usage](https://metaapi.cloud/docs/client/clientIdUsage/) |\n| magic | number |     | magic number (expert adviser id) |\n| slippage | number |     | slippage in points. Should be greater or equal to zero. In not set, default value specified in account entity will be used. Slippage is ignored on position modification, order modification and order cancellation calls. Slippage is also ignored if execution mode set in symbol specification is SYMBOL\\_TRADE\\_EXECUTION\\_MARKET. |\n| fillingModes | array |     | allowed filling modes in the order of priority. Default is to allow all filling modes and prefer ORDER\\_FILLING\\_FOK over ORDER\\_FILLING\\_IOC. See [https://www.mql5.com/en/docs/constants/tradingconstants/orderproperties#enum\\_order\\_type\\_filling](https://www.mql5.com/en/docs/constants/tradingconstants/orderproperties#enum_order_type_filling) for extra explanation. |\n\n##### Examples[#](#examples_4 \"Permanent link\")\n\n`{   \"actionType\": \"POSITION_PARTIAL\",   \"positionId\":\"46648037\",   \"volume\": 0.01 }`\n\n#### POSITION\\_CLOSE\\_ID[#](#position_close_id \"Permanent link\")\n\nCloses a position fully\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| actionType | string | Yes | action type, enum: `POSITION_CLOSE_ID` |\n| positionId | string | Yes | position id |\n| comment | string |     | order comment. The sum of the line lengths of the `comment` and the `clientId` must be less than or equal to 26. For more information see [`clientId` usage](https://metaapi.cloud/docs/client/clientIdUsage/) |\n| clientId | string |     | client-assigned id. The id value will be present on history orders and history deals related to this order. You can use this field to bind your trades to objects in your application and then track trade progress. The sum of the line lengths of the `comment` and the `clientId` must be less than or equal to 26. For more information see [`clientId` usage](https://metaapi.cloud/docs/client/clientIdUsage/) |\n| magic | number |     | magic number (expert adviser id) |\n| slippage | number |     | slippage in points. Should be greater or equal to zero. In not set, default value specified in account entity will be used. Slippage is ignored on position modification, order modification and order cancellation calls. Slippage is also ignored if execution mode set in symbol specification is SYMBOL\\_TRADE\\_EXECUTION\\_MARKET. |\n| fillingModes | array |     | allowed filling modes in the order of priority. Default is to allow all filling modes and prefer ORDER\\_FILLING\\_FOK over ORDER\\_FILLING\\_IOC. See [https://www.mql5.com/en/docs/constants/tradingconstants/orderproperties#enum\\_order\\_type\\_filling](https://www.mql5.com/en/docs/constants/tradingconstants/orderproperties#enum_order_type_filling) for extra explanation. |\n\n##### Examples[#](#examples_5 \"Permanent link\")\n\n`{   \"actionType\": \"POSITION_CLOSE_ID\",   \"positionId\":\"46648037\" }`\n\n#### POSITIONS\\_CLOSE\\_SYMBOL[#](#positions_close_symbol \"Permanent link\")\n\nClose positions by symbol\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| actionType | string | Yes | action type, enum: `POSITIONS_CLOSE_SYMBOL` |\n| symbol | string | Yes | symbol to trade |\n| comment | string |     | order comment. The sum of the line lengths of the `comment` and the `clientId` must be less than or equal to 26. For more information see [`clientId` usage](https://metaapi.cloud/docs/client/clientIdUsage/) |\n| clientId | string |     | client-assigned id. The id value will be present on history orders and history deals related to this order. You can use this field to bind your trades to objects in your application and then track trade progress. The sum of the line lengths of the `comment` and the `clientId` must be less than or equal to 26. For more information see [`clientId` usage](https://metaapi.cloud/docs/client/clientIdUsage/) |\n| magic | number |     | magic number (expert adviser id) |\n| slippage | number |     | slippage in points. Should be greater or equal to zero. In not set, default value specified in account entity will be used. Slippage is ignored on position modification, order modification and order cancellation calls. Slippage is also ignored if execution mode set in symbol specification is SYMBOL\\_TRADE\\_EXECUTION\\_MARKET. |\n| fillingModes | array |     | allowed filling modes in the order of priority. Default is to allow all filling modes and prefer ORDER\\_FILLING\\_FOK over ORDER\\_FILLING\\_IOC. See [https://www.mql5.com/en/docs/constants/tradingconstants/orderproperties#enum\\_order\\_type\\_filling](https://www.mql5.com/en/docs/constants/tradingconstants/orderproperties#enum_order_type_filling) for extra explanation. |\n\n##### Examples[#](#examples_6 \"Permanent link\")\n\n`{   \"actionType\": \"POSITIONS_CLOSE_SYMBOL\",   \"symbol\": \"AUDNZD\" }`\n\n#### POSITION\\_CLOSE\\_BY[#](#position_close_by \"Permanent link\")\n\nCloses a position by an opposite position\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| actionType | string | Yes | action type, enum: `POSITION_CLOSE_BY` |\n| positionId | string | Yes | position id |\n| closeByPositionId | string | Yes | identifier of an opposite position used for closing by order |\n| comment | string |     | order comment. The sum of the line lengths of the `comment` and the `clientId` must be less than or equal to 26. For more information see [`clientId` usage](https://metaapi.cloud/docs/client/clientIdUsage/) |\n| clientId | string |     | client-assigned id. The id value will be present on history orders and history deals related to this order. You can use this field to bind your trades to objects in your application and then track trade progress. The sum of the line lengths of the `comment` and the `clientId` must be less than or equal to 26. For more information see [`clientId` usage](https://metaapi.cloud/docs/client/clientIdUsage/) |\n| magic | number |     | magic number (expert adviser id) |\n| fillingModes | array |     | allowed filling modes in the order of priority. Default is to allow all filling modes and prefer ORDER\\_FILLING\\_FOK over ORDER\\_FILLING\\_IOC. See [https://www.mql5.com/en/docs/constants/tradingconstants/orderproperties#enum\\_order\\_type\\_filling](https://www.mql5.com/en/docs/constants/tradingconstants/orderproperties#enum_order_type_filling) for extra explanation. |\n\n##### Examples[#](#examples_7 \"Permanent link\")\n\n`{   \"actionType\": \"POSITION_CLOSE_BY\",   \"positionId\":\"46648037\",   \"closeByPositionId\":\"46648046\" }`\n\n#### ORDER\\_MODIFY[#](#order_modify \"Permanent link\")\n\nModifies an order\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| actionType | string | Yes | action type, enum: `ORDER_MODIFY` |\n| orderId | string | Yes | order id (ticket number) |\n| openPrice | number | Yes | limit or stop price, required for a pending order, min: `0` |\n| stopLoss | number |     | stop loss price, min: `0` |\n| takeProfit | number |     | take profit price, min: `0` |\n| stopLossUnits | string |     | stop loss units. ABSOLUTE\\_PRICE means the that the value of stopLoss field is a final stop loss value. RELATIVE\\_\\* means that the stopLoss field value contains relative stop loss expressed either in price, points, pips, account currency or balance percentage. Default is ABSOLUTE\\_PRICE. enum: `ABSOLUTE_PRICE`, `RELATIVE_PRICE`, `RELATIVE_POINTS`, `RELATIVE_PIPS`, `RELATIVE_CURRENCY`, `RELATIVE_BALANCE_PERCENTAGE` |\n| takeProfitUnits | string |     | take profit units. ABSOLUTE\\_PRICE means the that the value of takeProfit field is a final take profit value. RELATIVE\\_\\* means that the takeProfit field value contains relative take profit expressed either in price, points, pips, account currency or balance percentage. Default is ABSOLUTE\\_PRICE. enum: `ABSOLUTE_PRICE`, `RELATIVE_PRICE`, `RELATIVE_POINTS`, `RELATIVE_PIPS`, `RELATIVE_CURRENCY`, `RELATIVE_BALANCE_PERCENTAGE` |\n| stopPriceBase | string |     | defined the base price to calculate SL/TP relative to for POSITION\\_MODIFY requests. STOP\\_PRICE means the SL/TP is relative to previous SL/TP value. Default is OPEN\\_PRICE. enum: `CURRENT_PRICE`, `OPEN_PRICE`, `STOP_PRICE` |\n| trailingStopLoss | [TrailingStopLoss](https://metaapi.cloud/docs/client/models/trailingStopLoss/) |     | distance trailing stop loss configuration |\n| openPriceUnits | string |     | open price units. ABSOLUTE\\_PRICE means the that the value of openPrice field is a final open price value. RELATIVE\\_\\* means that the openPrice field value contains relative open price expressed either in price, points, pips, account currency or balance percentage. Default is ABSOLUTE\\_PRICE. enum: `ABSOLUTE_PRICE`, `RELATIVE_PRICE`, `RELATIVE_POINTS`, `RELATIVE_PIPS`, `RELATIVE_CURRENCY`, `RELATIVE_BALANCE_PERCENTAGE` |\n| openPriceBase | string |     | defined the base price to calculate open price relative to for ORDER\\_MODIFY and pending order requests. Default is CURRENT\\_PRICE for pending orders or STOP\\_LIMIT\\_PRICE for stop limit orders. enum: `CURRENT_PRICE`, `OPEN_PRICE`, `STOP_LIMIT_PRICE` |\n| stopLimitPriceUnits | string |     | stop limit price units. ABSOLUTEPRICE means the that the value of stopLimitPrice field is a final stop limit price value. RELATIVE\\_\\* means that the stopLimitPrice field value contains relative stop limit price expressed either in price, points, pips, account currency or balance percentage. Default is ABSOLUTE\\_PRICE. enum: `ABSOLUTE_PRICE`, `RELATIVE_PRICE`, `RELATIVE_POINTS`, `RELATIVE_PIPS`, `RELATIVE_CURRENCY`, `RELATIVE_BALANCE_PERCENTAGE` |\n| stopLimitPriceBase | string |     | defined the base price to calculate stop limit price relative to for ORDER\\_MODIFY requests. enum: `CURRENT_PRICE`, `STOP_LIMIT_PRICE` |\n\n##### Examples[#](#examples_8 \"Permanent link\")\n\n`{   \"actionType\": \"ORDER_MODIFY\",   \"orderId\":\"47067192\",   \"openPrice\": 1.03,   \"stopLoss\": 1.05 }`\n\n#### ORDER\\_CANCEL[#](#order_cancel \"Permanent link\")\n\nCancels an order\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| actionType | string | Yes | action type, enum: `ORDER_CANCEL` |\n| orderId | string | Yes | order id (ticket number) |\n\n##### Examples[#](#examples_9 \"Permanent link\")\n\n`{   \"actionType\": \"ORDER_CANCEL\",   \"orderId\":\"47067192\" }`\n\n## Usages[#](#usages \"Permanent link\")\n\n*   [REST API - API Methods - Trade](https://metaapi.cloud/docs/client/restApi/api/trade/)"
},
{
  "markdown": "## About[#](#about \"Permanent link\")\n\nContains symbol specification.\n\n### Fields[#](#fields \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| symbol | string | Yes | symbol (e.g. a currency pair or an index) |\n| tickSize | number | Yes | tick size |\n| minVolume | number | Yes | minimum order volume for the symbol |\n| maxVolume | number | Yes | maximum order volume for the symbol |\n| volumeStep | number | Yes | order volume step for the symbol |\n| fillingModes | array | Yes | list of allowed order filling modes. Can contain ORDER\\_FILLING\\_FOK, ORDER\\_FILLING\\_IOC or both. See [MQL5 docs](https://www.mql5.com/en/docs/constants/environment_state/marketinfoconstants#symbol_filling_mode) for more details. |\n| executionMode | string | Yes | deal execution mode. Possible values are SYMBOL\\_TRADE\\_EXECUTION\\_REQUEST, SYMBOL\\_TRADE\\_EXECUTION\\_INSTANT, SYMBOL\\_TRADE\\_EXECUTION\\_MARKET, SYMBOL\\_TRADE\\_EXECUTION\\_EXCHANGE. See [MQL5 docs](https://www.mql5.com/en/docs/constants/environment_state/marketinfoconstants#enum_symbol_trade_execution) for more details. |\n| contractSize | number | Yes | trade contract size |\n| quoteSessions | MetatraderSessions | Yes | quote sessions, indexed by day of week |\n| tradeSessions | MetatraderSessions | Yes | trade sessions, indexed by day of week |\n| tradeMode | string |     | order execution type. Possible values are SYMBOL\\_TRADE\\_MODE\\_DISABLED, SYMBOL\\_TRADE\\_MODE\\_LONGONLY, SYMBOL\\_TRADE\\_MODE\\_SHORTONLY, SYMBOL\\_TRADE\\_MODE\\_CLOSEONLY, SYMBOL\\_TRADE\\_MODE\\_FULL. See [MQL5 docs](https://www.mql5.com/en/docs/constants/environment_state/marketinfoconstants#enum_symbol_trade_mode) for more details. |\n| bondAccruedInterest | number |     | accrued interest – accumulated coupon interest, i.e. part of the coupon interest calculated in proportion to the number of days since the coupon bond issuance or the last coupon interest payment |\n| bondFaceValue | number |     | face value – initial bond value set by the issuer |\n| optionStrike | number |     | the strike price of an option. The price at which an option buyer can buy (in a Call option) or sell (in a Put option) the underlying asset, and the option seller is obliged to sell or buy the appropriate amount of the underlying asset. |\n| optionPriceSensivity | number |     | option/warrant sensitivity shows by how many points the price of the option's underlying asset should change so that the price of the option changes by one point |\n| liquidityRate | number |     | liquidity Rate is the share of the asset that can be used for the margin |\n| initialMargin | number | Yes | initial margin means the amount in the margin currency required for opening a position with the volume of one lot. It is used for checking a client's assets when he or she enters the market |\n| maintenanceMargin | number | Yes | the maintenance margin. If it is set, it sets the margin amount in the margin currency of the symbol, charged from one lot. It is used for checking a client\\\\'s assets when his/her account state changes. If the maintenance margin is equal to 0, the initial margin is used |\n| hedgedMargin | number | Yes | contract size or margin value per one lot of hedged positions (oppositely directed positions of one symbol). Two margin calculation methods are possible for hedged positions. The calculation method is defined by the broker |\n| priceCalculationMode | string | Yes | contract price calculation mode. One of SYMBOL\\_CALC\\_MODE\\_UNKNOWN, SYMBOL\\_CALC\\_MODE\\_FOREX, SYMBOL\\_CALC\\_MODE\\_FOREX\\_NO\\_LEVERAGE, SYMBOL\\_CALC\\_MODE\\_FUTURES, SYMBOL\\_CALC\\_MODE\\_CFD, SYMBOL\\_CALC\\_MODE\\_CFDINDEX, SYMBOL\\_CALC\\_MODE\\_CFDLEVERAGE, SYMBOL\\_CALC\\_MODE\\_EXCH\\_STOCKS, SYMBOL\\_CALC\\_MODE\\_EXCH\\_FUTURES, SYMBOL\\_CALC\\_MODE\\_EXCH\\_FUTURES\\_FORTS, SYMBOL\\_CALC\\_MODE\\_EXCH\\_BONDS, SYMBOL\\_CALC\\_MODE\\_EXCH\\_STOCKS\\_MOEX, SYMBOL\\_CALC\\_MODE\\_EXCH\\_BONDS\\_MOEX, SYMBOL\\_CALC\\_MODE\\_SERV\\_COLLATERAL. See [MQL5 docs](https://www.mql5.com/en/docs/constants/environment_state/marketinfoconstants#enum_symbol_calc_mode) for more details. |\n| hedgedMarginUsesLargerLeg | boolean |     | calculating hedging margin using the larger leg (Buy or Sell) |\n| marginCurrency | string | Yes | margin currency |\n| baseCurrency | string | Yes | base currency |\n| profitCurrency | string |     | profit currency |\n| swapMode | string | Yes | swap calculation model. Allowed values are SYMBOL\\_SWAP\\_MODE\\_DISABLED, SYMBOL\\_SWAP\\_MODE\\_POINTS, SYMBOL\\_SWAP\\_MODE\\_CURRENCY\\_SYMBOL, SYMBOL\\_SWAP\\_MODE\\_CURRENCY\\_MARGIN, SYMBOL\\_SWAP\\_MODE\\_CURRENCY\\_DEPOSIT, SYMBOL\\_SWAP\\_MODE\\_INTEREST\\_CURRENT, SYMBOL\\_SWAP\\_MODE\\_INTEREST\\_OPEN, SYMBOL\\_SWAP\\_MODE\\_REOPEN\\_CURRENT, SYMBOL\\_SWAP\\_MODE\\_REOPEN\\_BID. See [MQL5 docs](https://www.mql5.com/en/docs/constants/environment_state/marketinfoconstants#enum_symbol_swap_mode) for more details |\n| swapLong | number |     | long swap value |\n| swapShort | number |     | short swap value |\n| swapRollover3Days |     | string | day of week to charge 3 days swap rollover. Allowed values are SUNDAY, MONDAY, TUESDAY, WEDNESDAY, THURDAY, FRIDAY, SATURDAY, NONE |\n| allowedExpirationModes | array | Yes | allowed order expiration modes. Allowed values are SYMBOL\\_EXPIRATION\\_GTC, SYMBOL\\_EXPIRATION\\_DAY, SYMBOL\\_EXPIRATION\\_SPECIFIED, SYMBOL\\_EXPIRATION\\_SPECIFIED\\_DAY. See [MQL5 docs](https://www.mql5.com/en/docs/constants/environment_state/marketinfoconstants#symbol_expiration_mode) for more details |\n| allowedOrderTypes | array | Yes | allowed order types. Allowed values are SYMBOL\\_ORDER\\_MARKET, SYMBOL\\_ORDER\\_LIMIT, SYMBOL\\_ORDER\\_STOP, SYMBOL\\_ORDER\\_STOP\\_LIMIT, SYMBOL\\_ORDER\\_SL, SYMBOL\\_ORDER\\_TP, SYMBOL\\_ORDER\\_CLOSEBY. See [MQL5 docs](https://www.mql5.com/en/docs/constants/environment_state/marketinfoconstants#symbol_order_mode) for more details |\n| orderGTCMode | string |     | if the expirationMode property is set to SYMBOL\\_EXPIRATION\\_GTC (good till canceled), the expiration of pending orders, as well as of Stop Loss/Take Profit orders should be additionally set using this enumeration. Allowed values are SYMBOL\\_ORDERS\\_GTC, SYMBOL\\_ORDERS\\_DAILY, SYMBOL\\_ORDERS\\_DAILY\\_EXCLUDING\\_STOPS. See [MQL5 docs](https://www.mql5.com/en/docs/constants/environment_state/marketinfoconstants#enum_symbol_order_gtc_mode) for more details |\n| digits | number | Yes | digits after a decimal point |\n| point | number | Yes | point size |\n| path | string |     | path in the symbol tree |\n| description | string | Yes | symbol description |\n| startTime | datetime |     | date of the symbol trade beginning (usually used for futures) |\n| expirationTime | datetime |     | date of the symbol trade end (usually used for futures) |\n| pipSize | number |     | size of a pip. Pip size is defined for spot and CFD symbols only |\n| stopsLevel | number | Yes | minimal distance from the current market price to stop price (SL, TP, open price) in points. The SL, TP, open price can not be placed closer to market price than this distance. |\n| freezeLevel | number | Yes | distance in points from market price to pending order open price to freeze updates on the pending order. If the distance between order open price and current market price is less than this value, then you are not allowed to modify the pending order. |\n\n### MetatraderSessions fields[#](#metatradersessions-fields \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| SUNDAY | MetatraderSession |     | array of sessions for SUNDAY |\n| MONDAY | MetatraderSession |     | array of sessions for MONDAY |\n| TUEDSAY | MetatraderSession |     | array of sessions for TUESDAY |\n| WEDNESDAY | MetatraderSession |     | array of sessions for WEDNESDAY |\n| THURSDAY | MetatraderSession |     | array of sessions for THURSDAY |\n| FRIDAY | MetatraderSession |     | array of sessions for FRIDAY |\n| SATURDAY | MetatraderSession |     | array of sessions for SATURDAY |\n\n### MetatraderSession fields[#](#metatradersession-fields \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| from | string | Yes | session start time, in hh.mm.ss.SSS format |\n| to  | string | Yes | session end time, in hh.mm.ss.SSS format |\n\n### Example[#](#example \"Permanent link\")\n\n`{   \"symbol\": \"AUDNZD\",   \"tickSize\": 0.00001,   \"minVolume\": 0.01,   \"maxVolume\": 100,   \"volumeStep\": 0.01,   \"contractSize\": 100000,   \"quoteSessions\": {     \"SUNDAY\": [],     \"MONDAY\": [{\"from\": \"00:00:00.000\", \"to\": \"23:59:59.999\"}],     \"TUESDAY\": [{\"from\": \"00:00:00.000\", \"to\": \"23:59:59.999\"}],     \"WEDNESDAY\": [{\"from\": \"00:00:00.000\", \"to\": \"23:59:59.999\"}],     \"THURSDAY\": [{\"from\": \"00:00:00.000\", \"to\": \"23:59:59.999\"}],     \"FRIDAY\": [{\"from\": \"00:00:00.000\", \"to\": \"23:59:59.999\"}],     \"SATURDAY\": []   },   \"tradeSessions\": {     \"SUNDAY\": [],     \"MONDAY\": [{\"from\": \"00:05:00.000\", \"to\": \"23:59:59.999\"}],     \"TUESDAY\": [{\"from\": \"00:05:00.000\", \"to\": \"23:59:59.999\"}],     \"WEDNESDAY\": [{\"from\": \"00:05:00.000\", \"to\": \"23:59:59.999\"}],     \"THURSDAY\": [{\"from\": \"00:05:00.000\", \"to\": \"23:59:59.999\"}],     \"FRIDAY\": [{\"from\": \"00:05:00.000\", \"to\": \"23:59:59.999\"}],     \"SATURDAY\": []   },   \"initialMargin\": 100000,   \"maintenenceMargin\": 0,   \"hedgedMargin\": 0,   \"priceCalculationMode\": \"SYMBOL_CALC_MODE_FOREX\",   \"marginCurrency\": \"AUD\",   \"baseCurrency\": \"AUD\",   \"profitCurrency\": \"NZD\",   \"swapMode\": \"SYMBOL_SWAP_MODE_DISABLED\",   \"allowedExpirationModes\": [\"SYMBOL_EXPIRATION_GTC\", \"SYMBOL_EXPIRATION_DAY\", \"SYMBOL_EXPIRATION_SPECIFIED\", \"SYMBOL_EXPIRATION_SPECIFIED_DAY\"],   \"allowedOrderTypes\": [\"SYMBOL_ORDER_MARKET\", \"SYMBOL_ORDER_LIMIT\", \"SYMBOL_ORDER_STOP\", \"SYMBOL_ORDER_STOP_LIMIT\", \"SYMBOL_ORDER_SL\", \"SYMBOL_ORDER_TP\", \"SYMBOL_ORDER_CLOSEBY\"],   \"digits\": 5,   \"description\": \"Australian Dollar vs New Zealand Dollar\" }`\n\n## Usages[#](#usages \"Permanent link\")\n\n*   [REST API - API Methods - Read symbol specification](https://metaapi.cloud/docs/client/restApi/api/retrieveMarketData/readSymbolSpecification/)"
},
{
  "markdown": "## About[#](#about \"Permanent link\")\n\nContains current or historical candle data\n\n### Fields[#](#fields \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| symbol | string | Yes | symbol (e.g. a currency pair or an index) |\n| timeframe | string | Yes | timeframe candle was generated for, e.g. 1h. One of 1m, 2m, 3m, 4m, 5m, 6m, 10m, 12m, 15m, 20m, 30m, 1h, 2h, 3h, 4h, 6h, 8h, 12h, 1d, 1w, 1mn |\n| time | string(datetime) | Yes | open time, in [ISO format](https://en.wikipedia.org/wiki/ISO_8601) |\n| brokerTime | string | Yes | open time, in broker timezone, YYYY-MM-DD HH:mm:ss.SSS format |\n| open | number | Yes | open price |\n| high | number | Yes | high price |\n| low | number | Yes | low price |\n| close | number | Yes | close price |\n| tickVolume | number | Yes | tick volume, i.e. number of ticks inside the candle |\n| spread | number | Yes | spread in points |\n| volume | number | Yes | trade volume |\n\n### Example[#](#example \"Permanent link\")\n\n`{   \"symbol\": \"AUDNZD\",   \"timeframe\": \"15m\",   \"time\": \"2020-04-07T03:45:00.000Z\",   \"brokerTime\": \"2020-04-07 06:45:00.000\",   \"open\": 1.03297,   \"high\": 1.06309,   \"low\": 1.02705,   \"close\": 1.043,   \"tickVolume\": 1435,   \"spread\": 17,   \"volume\": 345 }`\n\n## Usages[#](#usages \"Permanent link\")\n\n*   [REST API - API Methods - Read candle (OHLCV)](https://metaapi.cloud/docs/client/restApi/api/retrieveMarketData/readCandle/)"
},
{
  "markdown": "## About[#](#about \"Permanent link\")\n\nContains current price for a symbol\n\n### Fields[#](#fields \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| symbol | string | Yes | symbol (e.g. a currency pair or an index) |\n| bid | number | Yes | bid price |\n| ask | number | Yes | ask price |\n| profitTickValue | number | Yes | tick value for a profitable position |\n| lossTickValue | number | Yes | tick value for a loosing position |\n| accountCurrencyExchangeRate | number |     | current exchange rate of account currency into account base currency (USD if you did not override it) |\n| time | string(datetime) | Yes | quote time, in [ISO format](https://en.wikipedia.org/wiki/ISO_8601) |\n| brokerTime | string | Yes | quote time, in broker timezone, YYYY-MM-DD HH:mm:ss.SSS format |\n\n### Example[#](#example \"Permanent link\")\n\n`{   \"symbol\": \"AUDNZD\",   \"bid\": 1.05297,   \"ask\": 1.05309,   \"profitTickValue\": 0.59731,   \"lossTickValue\": 0.59736,   \"time\": \"2020-04-07T03:45:23.345Z\",   \"brokerTime\": \"2020-04-07 06:45:23.345\" }`\n\n## Usages[#](#usages \"Permanent link\")\n\n*   [REST API - API Methods - Read symbol price](https://metaapi.cloud/docs/client/restApi/api/retrieveMarketData/readSymbolPrice/)"
},
{
  "markdown": "## About[#](#about \"Permanent link\")\n\nContains order book (market depth data)\n\n### Fields[#](#fields \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| symbol | string | Yes | symbol (e.g. a currency pair or an index) |\n| time | string(datetime) | Yes | time, in [ISO format](https://en.wikipedia.org/wiki/ISO_8601) |\n| brokerTime | string | Yes | time, in broker timezone, YYYY-MM-DD HH:mm:ss.SSS format |\n| book | Array | Yes | list of order book entries |\n\n#### MetatraderBookEntry model fields[#](#metatraderbookentry-model-fields \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| type | string | Yes | entry type, one of BOOK\\_TYPE\\_SELL, BOOK\\_TYPE\\_BUY, BOOK\\_TYPE\\_SELL\\_MARKET, BOOK\\_TYPE\\_BUY\\_MARKET |\n| price | number | Yes | price |\n| volume | number | Yes | volume |\n\n### Example[#](#example \"Permanent link\")\n\n`{   \"symbol\": \"AUDNZD\",   \"time\": \"2020-04-07T03:45:00.000Z\",   \"brokerTime\": \"2020-04-07 06:45:00.000\",   \"book\": [     {       \"type\": \"BOOK_TYPE_SELL\",       \"price\": 1.05309,       \"volume\": 5.67     },     {       \"type\": \"BOOK_TYPE_BUY\",       \"price\": 1.05297,       \"volume\": 3.45     }   ] }`\n\n## Usages[#](#usages \"Permanent link\")\n\n*   [REST API - API Methods - Read order book](https://metaapi.cloud/docs/client/restApi/api/retrieveMarketData/readBook/)"
},
{
  "markdown": "## Server time[#](#server-time \"Permanent link\")\n\n## About[#](#about \"Permanent link\")\n\nContains server time for a MetaTrader account\n\n### Fields[#](#fields \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| time | string | Yes | current time, in ISO format |\n| brokerTime | string | Yes | current broker time, in broker timezone, YYYY-MM-DD HH:mm:ss.SSS format |\n| lastQuoteTime | string |     | last quote time, in ISO format |\n| lastQuoteBrokerTime | string |     | last quote time, in broker timezone, YYYY-MM-DD HH:mm:ss.SSS format |\n\n### Example[#](#example \"Permanent link\")\n\n`{   \"time\": \"2022-04-05T12:54:55.345Z\",   \"brokerTime\": \"2022-04-05 15:54:55.345\",   \"lastQuoteTime\": \"2022-04-05T12:54:55.145Z\",   \"lastQuoteBrokerTime\": \"2022-04-05 15:54:55.145\" }`\n\n## Usages[#](#usages \"Permanent link\")\n\n*   [REST API - API Methods - Read account information](https://metaapi.cloud/docs/client/restApi/api/readTradingTerminalState/readServerTime/)"
},
{
  "markdown": "## About[#](#about \"Permanent link\")\n\nContains current or historical tick data\n\n### Fields[#](#fields \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| symbol | string | Yes | symbol (e.g. a currency pair or an index) |\n| time | string(datetime) | Yes | time, in [ISO format](https://en.wikipedia.org/wiki/ISO_8601) |\n| brokerTime | string | Yes | time, in broker timezone, YYYY-MM-DD HH:mm:ss.SSS format |\n| bid | number |     | bid price |\n| ask | number |     | ask price |\n| last | number |     | last deal price |\n| volume | number |     | volume for the current last deal price |\n| side | string |     | is tick a result of buy or sell deal, one of buy or sell |\n\n### Example[#](#example \"Permanent link\")\n\n`{   \"symbol\": \"AUDNZD\",   \"time\": \"2020-04-07T03:45:00.000Z\",   \"brokerTime\": \"2020-04-07 06:45:00.000\",   \"bid\": 1.05297,   \"ask\": 1.05309,   \"last\": 0.5298,   \"volume\": 0.13,   \"side\": \"buy\" }`\n\n## Usages[#](#usages \"Permanent link\")\n\n*   [REST API - API Methods - Read latest tick](https://metaapi.cloud/docs/client/restApi/api/retrieveMarketData/readTick/)"
},
{
  "markdown": "## Too many requests error[#](#too-many-requests-error \"Permanent link\")\n\n## About[#](#about \"Permanent link\")\n\nContains a too many requests error message and data. The error occurs if more requests are made within a certain period than the application allows. The HTTP response contains the [Retry-After](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Retry-After) header, which indicates when it is recommended to repeat the request for its successful completion. See more [Rate limiting](https://metaapi.cloud/docs/client/rateLimiting/)\n\n### Fields[#](#fields \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| id  | integer | Yes | Error id |\n| error | string | Yes | Error name |\n| message | string | Yes | Error description |\n| metadata | object | Yes | Additional information about error. See below |\n\n#### Metadata[#](#metadata \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| periodInSeconds | integer | Yes | rate limiting period in seconds |\n| creditsAvailable | integer | Yes | available credits for period |\n| creditsUsed | integer | Yes | used credits for period |\n| creditsRequired | integer | Yes | required credits for request |\n| recommendedRetryTime | datetime | Yes | recommended time to retry request |\n\n### Example[#](#example \"Permanent link\")\n\n`{   \"id\": 1,   \"error\": \"TooManyRequestsError\",   \"message\": \"The getAccountInformation API allows 1000 cpu credits per 1s to avoid overloading our servers. Please wait some time and retry your request or contact support to extend your quota. For more information see https://metaapi.cloud/docs/client/rateLimiting/\",   \"metadata\": {     \"total\": 1000,     \"available\": 0,     \"needed\": 50,     \"resourceId\": 'user:userId',     \"multiplierId\": 'accountCount:userId',     \"exceededConfig\": 'perUser',     \"exceededPeriod\": '1s',     \"recommendedRetryTime\": \"2022-05-31T09:00:52.361Z\",     \"method\": \"getAccountInformation\"   } }`\n\n## Usages[#](#usages \"Permanent link\")\n\nAll responses of REST API"
},
{
  "markdown": "## Trailing stop loss[#](#trailing-stop-loss \"Permanent link\")\n\n## About[#](#about \"Permanent link\")\n\nContains distance trailing stop loss configuration\n\n### Fields[#](#fields \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| distance | DistanceTrailingStopLoss |     | distance trailing stop loss configuration. If both distance and threshold TSL are set, then the resulting SL will be the one which is closest to the current price |\n| threshold | ThresholdTrailingStopLoss |     | threshold trailing stop loss configuration. If both distance and threshold TSL are set, then the resulting SL will be the one which is closest to the current price |\n\n#### DistanceTrailingStopLoss model fields[#](#distancetrailingstoploss-model-fields \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| distance | number | Yes | SL distance relative to current price, interpreted according to units field value |\n| units | string |     | distance trailing stop loss units. RELATIVE\\_\\* means that the distance field value contains relative stop loss expressed either in price, points, pips, account currency or balance percentage. Default is RELATIVE\\_PRICE, enum: `RELATIVE_PRICE`, `RELATIVE_POINTS`, `RELATIVE_PIPS`, `RELATIVE_CURRENCY`, `RELATIVE_BALANCE_PERCENTAGE` |\n\n#### ThresholdTrailingStopLoss model fields[#](#thresholdtrailingstoploss-model-fields \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| thresholds | Array | Yes | stop loss threshold |\n| units | string |     | threshold stop loss units. ABSOLUTE\\_PRICE means the that the value of stop loss threshold fields contains a final threshold & stop loss value. RELATIVE\\_\\* means that the threshold fields value contains relative threshold & stop loss values, expressed either in price, points, pips, account currency or balance percentage. Default is ABSOLUTE\\_PRICE, enum: `ABSOLUTE_PRICE`, `RELATIVE_PRICE`, `RELATIVE_POINTS`, `RELATIVE_PIPS`, `RELATIVE_CURRENCY`, `RELATIVE_BALANCE_PERCENTAGE` |\n| stopPriceBase | string |     | defined the base price to calculate SL relative to for \\*\\_MODIFY and pending order requests. Default is OPEN\\_PRICE, enum: `CURRENT_PRICE`, `OPEN_PRICE` |\n\n#### StopLossThreshold model fields[#](#stoplossthreshold-model-fields \"Permanent link\")\n\n| Name | Type | Required | Description |\n| --- | --- | --- | --- |\n| threshold | number | Yes | price threshold relative to position open price, interpreted according to units field value |\n| stopLoss | number | Yes | stop loss value, interpreted according to units and basePrice field values |\n\n### Example[#](#example \"Permanent link\")\n\n`{   \"distance\": {     \"distance\": 0.1,     \"units\": \"RELATIVE_PRICE\"   },   \"threshold\": {     \"thresholds\": [       {         \"threshold\": 1.3,         \"stopLoss\": 1.1       }     ],     \"units\": \"ABSOLUTE_PRICE\",     \"stopPriceBase\": \"CURRENT_PRICE\"   } }`\n\n## Usages[#](#usages \"Permanent link\")\n\n*   [Models - Metatrader position](https://metaapi.cloud/docs/client/models/metatraderPosition/)\n*   [Models - Metatrader order](https://metaapi.cloud/docs/client/models/metatraderPosition/)\n*   [Models - Metatrader trade](https://metaapi.cloud/docs/client/models/metatraderTrade/)"
}]